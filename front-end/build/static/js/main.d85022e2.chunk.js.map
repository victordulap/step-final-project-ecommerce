{"version":3,"sources":["components/Footer.js","components/SearchBar.js","services/searchService.js","components/Navbar.js","components/Button.js","features/cartSlice.js","pages/Cart/components/CartItem.js","components/CartEmpty.js","pages/Cart/index.js","services/categoriesService.js","services/checkoutService.js","features/checkoutSlice.js","pages/Checkout/index.js","components/SimpleCard.js","components/SimpleCardSkeleton.js","components/SimpleCardsContainer.js","services/brandsService.js","features/brandsSlice.js","features/categoriesSlice.js","pages/Home/index.js","services/itemsService.js","features/selectedItemSlice.js","pages/Item/components/ItemSkeleton.js","pages/Item/index.js","features/shopItemsSlice.js","components/ShopItemCard.js","components/ShopItemCardSkeleton.js","pages/Shop/components/FilterModal.js","pages/Shop/index.js","App.js","app/store.js","index.js","services/index.js","utils/constants.js"],"names":["Footer","className","Date","getFullYear","to","SearchBar","searchSuggestions","closeModal","searchCallback","afterMs","useState","searchValue","setSearchValue","useEffect","delayDebounce","setTimeout","clearTimeout","console","log","type","name","id","placeholder","value","onChange","e","target","autoFocus","length","map","suggestion","onClick","_id","brandName","title","color","BASE_URL","require","request","searchService","search","get","Navbar","showSearchModal","setShowSearchModal","setSearchSuggestions","handleSearch","useCallback","a","resp","data","items","sizes","Button","text","size","dark","linkTo","routeTo","block","loading","rest","includes","classes","href","disabled","findIndexOfItemById","findIndex","item","getCartTotal","cart","reduce","b","price","count","cartSlice","createSlice","initialState","cartTotal","reducers","getCartFromLocalStorage","state","action","JSON","parse","localStorage","getItem","addToCart","index","cartItem","payload","selectedSize","push","uuid","setItem","stringify","removeFromCart","filter","incrementCount","decrementCount","clearCart","actions","CartItem","cartItemId","itemId","imgUrl","cartItemPrice","decrementCallback","incrementCallback","removeCallback","isImgLoaded","setIsImgLoaded","src","alt","onLoad","CartEmpty","Cart","dispatch","useDispatch","useSelector","brand","toFixed","DELIEVERY_PRICE","categoriesService","checkoutService","body","post","createOrder","createAsyncThunk","orderDetails","res","status","REDUX_STATUS","IDLE","checkoutSlice","extraReducers","pending","LOADING","fulfilled","SUCCESS","rejected","ERROR","Checkout","checkoutStatus","checkout","isPaymentFormHidden","setIsPaymentFormHidden","isShippingFormHidden","setIsShippingFormHidden","form","useRef","formErrors","setFormErrors","fieldKeys","cardNumber","expiryMonth","expiryYear","nameOnCard","cvv","email","firstName","lastName","mobile","country","city","address","postcode","paymentFormFields","label","key","component","min","max","maxLength","minLength","shippingFormFields","handleSubmit","preventDefault","formCompletedSuccessfully","validator","isCreditCard","old","isEmail","Object","entries","validateForm","formValues","getFormValues","shippingDetails","cartInfo","itemName","total","paymentStatusSuccess","style","textAlign","fontSize","paddingBottom","ref","onSubmit","field","display","htmlFor","SimpleCard","darkMode","linkQuery","pathname","SimpleCardSkeleton","SimpleCardsContainer","cardsData","isLoading","darkCards","card","toLowerCase","brandsService","getAllBrands","brandSlice","brands","getAllCategories","categoriesSlice","categories","HomePage","isLoadingBrands","isLoadingCategories","itemsService","q","getItemById","selectedItemSlice","resetState","ItemSkeleton","position","NO_VALUE","Item","sizeError","setSizeError","addedToCart","setAddedToCart","useParams","selectedItem","lineHeight","event","current","defaultValue","description","oldState","getItems","getItemsByPage","shopItemsSlice","noMoreToLoad","shopTitle","filterFields","nbHits","ShopItemCard","ShopItemCardSkeleton","FilterModal","options","updateFilterOptions","filterOptions","setFilterOptions","useLocation","updatedOptions","k","v","i","queryString","v2","split","newV","checked","show","getAllCheckedByKey","stateByKey","join","newState","toggleShowFilterOptions","arrValue","newValue","colors","brandIds","categoryIds","toggleFilterOption","Shop","shopItems","history","useHistory","page","query","setQuery","isFilterModalOpen","setIsFilterModalOpen","SORT_OPTIONS","none","param","sortOption","setSortOption","getDefaultUrlParams","queryObj","sort","searchQuery","val","newUrl","values","newFilterOptions","selectedOption","asc","desc","keys","App","exact","path","store","configureStore","reducer","cartReducer","brandsReducer","categoriesReducer","shopItemsReducer","selectedItemReducer","checkoutReducer","ReactDOM","render","document","getElementById","defaultOptions","baseURL","headers","instance","axios","create","url"],"mappings":"qZAeeA,EAXA,WACb,OACE,wBAAQC,UAAU,SAAlB,SACE,sBAAKA,UAAU,YAAf,UACE,uCAAW,IAAIC,MAAOC,cAAtB,iBACA,cAAC,IAAD,CAAMC,GAAG,IAAT,wB,gDCsDOC,G,MA1DG,SAAC,GAKZ,IAJLC,EAII,EAJJA,kBACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,eACAC,EACI,EADJA,QACI,EACkCC,mBAAS,IAD3C,mBACGC,EADH,KACgBC,EADhB,KAeJ,OAZAC,qBAAU,WACR,IAAMC,EAAgBC,YAAW,WAC/BP,EAAeG,KACdF,GAEH,OAAO,kBAAMO,aAAaF,MACzB,CAACH,EAAaH,EAAgBC,IAEjCI,qBAAU,WACRI,QAAQC,IAAI,uBAAwBZ,KACnC,CAACA,IAGF,sBAAKL,UAAU,uBAAf,UACE,sBAAKA,UAAU,aAAf,UACE,uBACEkB,KAAK,OACLC,KAAK,SACLC,GAAG,SACHC,YAAY,mBACZC,MAAOZ,EACPa,SAAU,SAACC,GAAD,OAAOb,EAAea,EAAEC,OAAOH,QACzCI,WAAS,IAEX,wBAAQ1B,UAAU,cAAlB,SACE,cAAC,IAAD,CAAiBA,UAAU,cAG/B,qBAAKA,UAAU,yBAAf,SACyB,OAAtBK,EACC,IACGA,GAAqBA,EAAkBsB,QAAU,EACpDtB,EAAkBuB,KAAI,SAACC,GAAD,OACpB,eAAC,IAAD,CACEC,QAASxB,EACTN,UAAU,oBAEVG,GAAE,gBAAW0B,EAAWE,KAJ1B,UAMGF,EAAWG,UANd,IAM0BH,EAAWI,MANrC,KAM8CJ,EAAWK,MANzD,kCAG4BL,EAAWE,SAOzC,qBAAK/B,UAAU,oBAAf,mCCxDFmC,EAAaC,EAAQ,GAArBD,SACAE,EAAYD,EAAQ,IAApBC,QAQKC,EANgB,SAACC,GAC5B,OAAOF,EAAQG,IAAR,UACFL,EADE,yBACuBI,EADvB,uCCqEME,EA5DA,WAAO,IAAD,EAC2BhC,oBAAS,GADpC,mBACZiC,EADY,KACKC,EADL,OAE+BlC,mBAAS,MAFxC,mBAEZJ,EAFY,KAEOuC,EAFP,KAIbC,EAAeC,sBAAW,uCAAC,WAAOpC,GAAP,eAAAqC,EAAA,2DAC3BrC,EAAYiB,OAAS,GADM,gCAGVW,EAAmC5B,GAHzB,OAGvBsC,EAHuB,OAM7BhC,QAAQC,IAAI+B,EAAKC,KAAKC,OACtBN,EAAqBI,EAAKC,KAAKC,OAPF,sBAS7BN,EAAqB,MATQ,2CAAD,sDAW7B,IAEH,OACE,sBAAK5C,UAAU,SAAf,UACE,sBAAKA,UAAU,YAAf,UACE,cAAC,IAAD,CAAMG,GAAG,IAAIH,UAAU,OAAvB,wBAIA,sBAAKA,UAAU,QAAf,UACE,cAAC,IAAD,CACEA,UAAU,OACV8B,QAAS,kBAAMa,GAAmB,MAGpC,cAAC,IAAD,CAAMxC,GAAG,QAAT,SACE,cAAC,IAAD,CAAuBH,UAAU,iBAItC0C,GACC,sBAAK1C,UAAU,eAAf,UACE,wBACEA,UAAU,cACV8B,QAAS,kBAAMa,GAAmB,IAFpC,SAIE,cAAC,IAAD,MAEF,qBAAK3C,UAAU,YAAf,SACE,cAAC,EAAD,CACEK,kBAAmBA,EACnBE,eAAgBsC,EAChBrC,QAjDU,IAkDVF,WAAY,WACVqC,GAAmB,GACnBC,EAAqB,kB,gCC1D/BO,EAAQ,CAAC,IAAK,IAAK,KA+CVC,EA7CA,SAAC,GAUT,IATLC,EASI,EATJA,KACAC,EAQI,EARJA,KACAC,EAOI,EAPJA,KACAC,EAMI,EANJA,OACAC,EAKI,EALJA,QACA3B,EAII,EAJJA,QACA4B,EAGI,EAHJA,MACAC,EAEI,EAFJA,QACGC,EACC,qFACCT,EAAMU,SAASP,KAAOA,EAAO,KAElC,IAAMQ,EAAO,kBAAcR,EAAd,YAAsBC,EAAO,WAAa,GAA1C,YACXG,EAAQ,YAAc,GADX,YAETC,EAAU,cAAgB,IAE9B,OAAIF,EAEA,cAAC,IAAD,yBAAMM,KAAMN,EAASzD,UAAW8D,EAAShC,QAASA,GAAa8B,GAA/D,aACGP,KAKHG,EAEA,2CAAGO,KAAMP,EAAQxD,UAAW8D,EAAShC,QAASA,GAAa8B,GAA3D,aACGP,KAML,gDACEW,SAAUL,IAAW,EACrB3D,UAAW8D,EACXhC,QAASA,GACL8B,GAJN,aAMGD,EAAU,cAAC,IAAD,CAAe3D,UAAW,iBAAqBqD,M,iCCvC1DY,EAAsB,SAACf,EAAO9B,GAClC,OAAO8B,EAAMgB,WAAU,SAACC,GAAD,OAAUA,EAAK/C,KAAOA,MAGzCgD,EAAe,SAACC,GACpB,OAAIA,EAAK1C,OAAS,EACT0C,EAAKC,QAAO,SAACvB,EAAGwB,GAAJ,OAAWxB,IAAKwB,EAAEJ,KAAKK,MAAQD,EAAEE,QAAO,GAEpD,GAIEC,EAAYC,YAAY,CACnCxD,KAAM,OACNyD,aAnBmB,CACnBtD,MAAO,GACPuD,UAAW,GAkBXC,SAAU,CACRC,wBADQ,SACgBC,EAAOC,GAC7B,IAAMZ,EAAOa,KAAKC,MAAMC,aAAaC,QAAQ,gBAAkB,GAC/DL,EAAM1D,MAAQ+C,EAEdW,EAAMH,UAAYT,EAAaY,EAAM1D,QAEvCgE,UAPQ,SAOEN,EAAOC,GACf,IAAIM,EAAQP,EAAM1D,MAAM4C,WACtB,SAACsB,GAAD,OACEA,EAASrB,KAAK/C,KAAO6D,EAAOQ,QAAQtB,KAAK/C,IACzCoE,EAASE,eAAiBT,EAAOQ,QAAQC,gBAGzCH,GAAS,EACXP,EAAM1D,MAAMiE,GAAZ,2BACKP,EAAM1D,MAAMiE,IADjB,IAEEpB,KAAMc,EAAOQ,QAAQtB,KACrBuB,aAAcT,EAAOQ,QAAQC,aAC7BjB,MAAOO,EAAM1D,MAAMiE,GAAOd,MAAQ,IAGpCO,EAAM1D,MAAMqE,KAAK,CACfvE,GAAIwE,cACJzB,KAAMc,EAAOQ,QAAQtB,KACrBuB,aAAcT,EAAOQ,QAAQC,aAC7BjB,MAAO,IAIXO,EAAMH,UAAYT,EAAaY,EAAM1D,OACrC8D,aAAaS,QAAQ,aAAcX,KAAKY,UAAUd,EAAM1D,SAE1DyE,eAjCQ,SAiCOf,EAAOC,GACpBD,EAAM1D,MAAQ0D,EAAM1D,MAAM0E,QACxB,SAACR,GAAD,OAAcA,EAASpE,KAAO6D,EAAOQ,QAAQrE,MAG/C4D,EAAMH,UAAYT,EAAaY,EAAM1D,OACrC8D,aAAaS,QAAQ,aAAcX,KAAKY,UAAUd,EAAM1D,SAE1D2E,eAzCQ,SAyCOjB,EAAOC,GACpB,IAAMM,EAAQtB,EAAoBe,EAAM1D,MAAO2D,EAAOQ,QAAQrE,IAC9D4D,EAAM1D,MAAMiE,GAAOd,QAEnBO,EAAMH,UAAYT,EAAaY,EAAM1D,OACrC8D,aAAaS,QAAQ,aAAcX,KAAKY,UAAUd,EAAM1D,SAE1D4E,eAhDQ,SAgDOlB,EAAOC,GACpB,IAAMM,EAAQtB,EAAoBe,EAAM1D,MAAO2D,EAAOQ,QAAQrE,IAC9D4D,EAAM1D,MAAMiE,GAAOd,QACc,IAA7BO,EAAM1D,MAAMiE,GAAOd,QAErBO,EAAM1D,MAAQ0D,EAAM1D,MAAM0E,QACxB,SAACR,GAAD,OAAcA,EAASpE,KAAO6D,EAAOQ,QAAQrE,OAIjD4D,EAAMH,UAAYT,EAAaY,EAAM1D,OACrC8D,aAAaS,QAAQ,aAAcX,KAAKY,UAAUd,EAAM1D,SAE1D6E,UA7DQ,SA6DEnB,EAAOC,GACfD,EAAM1D,MAAQ,GAEd0D,EAAMH,UAAYT,EAAaY,EAAM1D,OACrC8D,aAAaS,QAAQ,aAAcX,KAAKY,UAAUd,EAAM1D,Y,EAY1DoD,EAAU0B,QANZrB,E,EAAAA,wBACAO,E,EAAAA,UACAS,E,EAAAA,eACAE,E,EAAAA,eACAC,E,EAAAA,eACAC,E,EAAAA,UAGazB,IAAf,QC7Ce2B,EArDE,SAAC,GAYX,IAXLC,EAWI,EAXJA,WACAC,EAUI,EAVJA,OACAC,EASI,EATJA,OACAvE,EAQI,EARJA,MACAwE,EAOI,EAPJA,cACAvE,EAMI,EANJA,MACAwD,EAKI,EALJA,aACAjB,EAII,EAJJA,MACAiC,EAGI,EAHJA,kBACAC,EAEI,EAFJA,kBACAC,EACI,EADJA,eACI,EACkCnG,oBAAS,GAD3C,mBACGoG,EADH,KACgBC,EADhB,KAGJ,OACE,sBAAK9G,UAAU,YAAf,UACE,cAAC,IAAD,CAAMG,GAAE,gBAAWoG,GAAUvG,UAAU,0BAAvC,SACE,qBACE+G,IAAKP,EACLQ,IAAK/E,EACLjC,UAAS,UAAK6G,EAAc,GAAK,eACjCI,OAAQ,kBAAMH,GAAe,QAGjC,sBAAK9G,UAAU,2BAAf,UACE,mBAAGA,UAAU,kBAAb,SACE,uCAAcyG,OAEhB,mBAAGzG,UAAU,kBAAb,SAAgCiC,IAChC,sBAAKjC,UAAU,iBAAf,UACE,mBAAGA,UAAU,kBAAb,SAAgCkC,IAChC,mBAAGlC,UAAU,iBAAb,SAA+B0F,IAC/B,sBAAK1F,UAAU,qBAAf,UACE,qBAAKA,UAAU,4BAAf,SACE,wBAAQ8B,QAAS,kBAAM4E,KAAvB,iBAEF,sCAASjC,KACT,qBAAKzE,UAAU,4BAAf,SACE,wBAAQ8B,QAAS,kBAAM6E,KAAvB,0BAKR,qBAAK3G,UAAU,mBAAf,SACE,wBAAQ8B,QAAS,kBAAM8E,KAAvB,SACG,cAAC,IAAD,CAAS5G,UAAU,gCA9BMsG,ICHrBY,G,OAZG,SAAC,GAAc,IAAZ7D,EAAW,EAAXA,KACnB,OACE,sBAAKrD,UAAU,uBAAf,UACE,8BACE,cAAC,IAAD,CAAuBA,UAAU,sBAEnC,4BAAIqD,GAAQ,uBACZ,cAAC,EAAD,CAAQG,OAAQ,IAAKF,KAAK,IAAID,KAAK,qBCiF1B8D,EAnFF,WACX,IAAMC,EAAWC,cACXhD,EAAOiD,aAAY,SAACtC,GAAD,OAAWA,EAAMX,KAAK/C,SACzCuD,EAAYyC,aAAY,SAACtC,GAAD,OAAWA,EAAMX,KAAKQ,aAMpD,OAJAjE,qBAAU,WACRwG,EAASrC,OACR,CAACqC,IAGF,sBAAMpH,UAAU,OAAhB,SACE,sBAAKA,UAAU,YAAf,UACE,yBAASA,UAAU,SAAnB,SACE,oBAAIA,UAAU,iBAAd,sBAEDqE,EAAK1C,OAAS,EACb,qCACE,yBAAS3B,UAAU,aAAnB,SACGqE,EAAKzC,KAAI,SAAC4D,GAAD,OACR,cAAC,EAAD,CAEEc,WAAYd,EAASpE,GACrBmF,OAAQf,EAASrB,KAAKpC,IACtByE,OAAQhB,EAASrB,KAAKqC,OACtBvE,MAAOuD,EAASrB,KAAKoD,MAAMpG,KAAO,IAAMqE,EAASrB,KAAKlC,MACtDwE,eAAgBjB,EAASrB,KAAKK,MAAQgB,EAASf,OAAO+C,QAAQ,GAC9DtF,MAAOsD,EAASrB,KAAKjC,MACrBwD,aAAcF,EAASE,aACvBjB,MAAOe,EAASf,MAChBiC,kBAAmB,kBAAMU,EAASlB,EAAe,CAAE9E,GAAIoE,EAASpE,OAChEuF,kBAAmB,kBAAMS,EAASnB,EAAe,CAAE7E,GAAIoE,EAASpE,OAChEwF,eAAgB,WACdQ,EACErB,EAAe,CACb3E,GAAIoE,EAASpE,QAddoE,EAASpE,SAqBpB,yBAASpB,UAAU,QAAnB,SACE,4BACE,mCACE,sBAAMA,UAAU,iBAAhB,wBADF,KAEG6E,EAAU2C,QAAQ,UAIzB,0BAASxH,UAAU,WAAnB,UACE,oBAAIA,UAAU,iBAAd,SACE,+CAAsB6E,EAAY4C,mBAAiBD,QAAQ,QAE7D,sBAAKxH,UAAU,iBAAf,UACE,mBAAGA,UAAU,iBAAb,SACE,iDAEF,oBAAGA,UAAU,QAAb,cAA2B6E,EAAU2C,QAAQ,SAE/C,sBAAKxH,UAAU,iBAAf,UACE,mBAAGA,UAAU,iBAAb,SACE,iDAEF,oBAAGA,UAAU,QAAb,cAA2ByH,kBAAgBD,QAAQ,SAErD,qBACExH,UAAU,kBADZ,SAIE,cAAC,EAAD,CAAQuD,MAAI,EAACD,KAAK,IAAII,OAAK,EAACL,KAAK,WAAWW,SAAUa,GAAa,EAAGrB,OAAO,sBAKnF,yBAASxD,UAAU,aAAnB,SACE,cAAC,EAAD,Y,iCCrFJmC,EAAaC,EAAQ,GAArBD,SACAE,EAAYD,EAAQ,IAApBC,QAMKqF,EAJY,WACvB,OAAOrF,EAAQG,IAAR,UAAeL,EAAf,iBCJDA,EAAaC,EAAQ,GAArBD,SACAE,EAAYD,EAAQ,IAApBC,QAMKsF,GAJO,SAACC,GACnB,OAAOvF,EAAQwF,KAAR,UAAgB1F,EAAhB,WAAmCyF,ICC/BE,GAAcC,YACzB,oBADyC,uCAEzC,WAAOC,GAAP,eAAAjF,EAAA,sEACoB4E,GAA4BK,GADhD,cACQC,EADR,yBAESA,EAAIhF,MAFb,2CAFyC,uDAQrC2B,GAAe,CACnBsD,OAAQC,eAAaC,MAoBRC,GAjBc1D,YAAY,CACvCxD,KAAM,aACNyD,gBACAE,SAAU,GACVwD,eAAa,mBACVR,GAAYS,SAAU,SAACvD,EAAOC,GAC7BD,EAAMkD,OAASC,eAAaK,WAFnB,cAIVV,GAAYW,WAAY,SAACzD,EAAOC,GAC/BD,EAAMkD,OAASC,eAAaO,WALnB,cAOVZ,GAAYa,UAAW,SAAC3D,EAAOC,GAC9BD,EAAMkD,OAASC,eAAaS,SARnB,KAaf,QCwVeC,GA/WE,WACf,IAAMzB,EAAWC,cACXhD,EAAOiD,aAAY,SAACtC,GAAD,OAAWA,EAAMX,KAAK/C,SACzCuD,EAAYyC,aAAY,SAACtC,GAAD,OAAWA,EAAMX,KAAKQ,aAC9CiE,EAAiBxB,aAAY,SAACtC,GAAD,OAAWA,EAAM+D,SAASb,UAE7DtH,qBAAU,WACRwG,EAASrC,OACR,CAACqC,IARiB,MAUiC3G,oBAAS,GAV1C,mBAUduI,EAVc,KAUOC,EAVP,OAWmCxI,oBAAS,GAX5C,mBAWdyI,EAXc,KAWQC,EAXR,KAYfC,EAAOC,iBAAO,QAZC,EAce5I,mBAAS,IAdxB,mBAcd6I,EAdc,KAcFC,EAdE,KAgBfC,EAAY,CAChBC,WAAY,aACZC,YAAa,cACbC,WAAY,aACZC,WAAY,aACZC,IAAK,MACLC,MAAO,QACPC,UAAW,YACXC,SAAU,WACVC,OAAQ,SACRC,QAAS,UACTC,KAAM,OACNC,QAAS,UACTC,SAAU,YAGNC,EAAoB,CACxB,CACEC,MAAO,cACPC,IAAKhB,EAAUC,WACfgB,UACE,qCACGnB,EAAWE,EAAUC,aAAe,mBAAGzJ,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUC,cACtF,uBACEzJ,UAAWsJ,EAAWE,EAAUC,YAAc,eAAiB,GAC/DpI,YAAY,sBACZH,KAAK,OACLC,KAAMqI,EAAUC,iBAKxB,CACEc,MAAO,cACPC,IAAK,aACLC,UACE,sCACInB,EAAWE,EAAUE,cAAgBJ,EAAWE,EAAUG,cAC1D,mBAAG3J,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUE,cAAgBJ,EAAWE,EAAUG,cAExF,sBAAK3J,UAAU,eAAf,UACE,uBACEA,UAAWsJ,EAAWE,EAAUE,aAAe,eAAiB,GAChExI,KAAK,SACLC,KAAMqI,EAAUE,YAChBrI,YAAY,QACZqJ,IAAK,EACLC,IAAK,KAEP,uBACE3K,UAAWsJ,EAAWE,EAAUG,YAAc,eAAiB,GAC/DzI,KAAK,SACLC,KAAMqI,EAAUG,WAChBtI,YAAY,OACZqJ,KAAK,IAAIzK,MAAOC,cAChByK,KAAK,IAAI1K,MAAOC,cAAgB,YAM1C,CACEqK,MAAO,eACPC,IAAKhB,EAAUI,WACfa,UACE,qCACGnB,EAAWE,EAAUI,aAAe,mBAAG5J,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUI,cACtF,uBAAO5J,UAAWsJ,EAAWE,EAAUI,YAAc,eAAiB,GAAI1I,KAAK,OAAOC,KAAMqI,EAAUI,iBAI5G,CACEW,MAAO,MACPC,IAAKhB,EAAUK,IACfY,UACE,qCACGnB,EAAWE,EAAUK,MAAQ,mBAAG7J,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUK,OAC/E,uBAAO7J,UAAWsJ,EAAWE,EAAUK,KAAO,eAAiB,GAAI3I,KAAK,WAAWC,KAAMqI,EAAUK,IAAKe,UAAW,EAAGC,UAAW,SAKnIC,EAAqB,CACzB,CACEP,MAAO,QACPC,IAAKhB,EAAUM,MACfW,UACE,qCACGnB,EAAWE,EAAUM,QAAU,mBAAG9J,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUM,SACjF,uBAAO9J,UAAWsJ,EAAWE,EAAUM,OAAS,eAAiB,GAAI5I,KAAK,QAAQC,KAAMqI,EAAUM,YAIxG,CACES,MAAO,aACPC,IAAKhB,EAAUO,UACfU,UACE,qCACGnB,EAAWE,EAAUO,YAAc,mBAAG/J,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUO,aACrF,uBAAO/J,UAAWsJ,EAAWE,EAAUO,WAAa,eAAiB,GAAI7I,KAAK,OAAOC,KAAMqI,EAAUO,gBAI3G,CACEQ,MAAO,YACPC,IAAKhB,EAAUQ,SACfS,UACE,qCACGnB,EAAWE,EAAUQ,WAAa,mBAAGhK,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUQ,YAEpF,uBAAO9I,KAAK,OAAOC,KAAMqI,EAAUQ,SAAUhK,UAAWsJ,EAAWE,EAAUQ,UAAY,eAAiB,SAIhH,CACEO,MAAO,SACPC,IAAKhB,EAAUS,OACfQ,UACE,qCACGnB,EAAWE,EAAUS,SAAW,mBAAGjK,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUS,UAElF,uBAAO/I,KAAK,MAAMC,KAAMqI,EAAUS,OAAQ5I,YAAY,kBAAkBrB,UAAWsJ,EAAWE,EAAUS,QAAU,eAAiB,SAIzI,CACEM,MAAO,UACPC,IAAKhB,EAAUU,QACfO,UACE,qCACGnB,EAAWE,EAAUU,UAAY,mBAAGlK,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUU,WAEnF,uBAAOlK,UAAWsJ,EAAWE,EAAUU,SAAW,eAAiB,GAAIhJ,KAAK,OAAOC,KAAMqI,EAAUU,cAIzG,CACEK,MAAO,OACPC,IAAKhB,EAAUW,KACfM,UACE,qCACGnB,EAAWE,EAAUW,OAAS,mBAAGnK,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUW,QAChF,uBAAOnK,UAAWsJ,EAAWE,EAAUW,MAAQ,eAAiB,GAAIjJ,KAAK,OAAOC,KAAMqI,EAAUW,WAItG,CACEI,MAAO,UACPC,IAAKhB,EAAUY,QACfK,UACE,qCACGnB,EAAWE,EAAUY,UAAY,mBAAGpK,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUY,WACnF,uBAAOpK,UAAWsJ,EAAWE,EAAUY,SAAW,eAAiB,GAAIlJ,KAAK,OAAOC,KAAMqI,EAAUY,cAIzG,CACEG,MAAO,WACPC,IAAKhB,EAAUa,SACfI,UACE,qCACGnB,EAAWE,EAAUa,WAAa,mBAAGrK,UAAU,cAAb,SAA4BsJ,EAAWE,EAAUa,YACpF,uBAAOrK,UAAWsJ,EAAWE,EAAUa,UAAY,eAAiB,GAAInJ,KAAK,OAAOC,KAAMqI,EAAUa,gBA6CtGU,EAAe,SAACvJ,GACpBA,EAAEwJ,iBAEFzB,EAAc,IACd,IAAM0B,EAnCa,SAAC7B,GAGpB,IAFA,IAAI6B,GAA4B,EADH,iBAGjBT,EAHiB,uBAIvBpB,EAAKoB,IAAQpB,EAAKoB,GAAKlJ,OAA6B,KAApB8H,EAAKoB,GAAKlJ,MACxCkJ,IAAQhB,EAAUC,WAChBwB,IACgBC,IAAUC,aAAa/B,EAAKoB,GAAKlJ,SAEjDiI,GAAc,SAAC6B,GAAD,mBAAC,eAAcA,GAAf,kBAAqBZ,EAAM,uBACzCS,GAA4B,IAGvBT,IAAQhB,EAAUM,OACvBmB,IACiBC,IAAUG,QAAQjC,EAAKoB,GAAKlJ,SAE7CiI,GAAc,SAAC6B,GAAD,mBAAC,eAAcA,GAAf,kBAAqBZ,EAAM,wBACzCS,GAA4B,KAKlC1B,GAAc,SAAC6B,GAAD,mBAAC,eAAcA,GAAf,kBAAqBZ,EAAM,yBACrCS,IAA2BA,GAA4B,KArB/D,MAAoBK,OAAOC,QAAQ/B,GAAnC,eAAgD,IAyBhD,OAAOyB,EAO2BO,CAAahK,EAAEC,QAGjD,GAAIwJ,EAA2B,CAC7B,IAAMQ,EA/CY,SAACrC,GAErB,IADA,IAAMqC,EAAa,GACnB,MAAoBH,OAAOC,QAAQ/B,GAAnC,eAA+C,CAAC,IAApCgB,EAAmC,uBAC7CiB,EAAWjB,GAAOpB,EAAKoB,GAAKlJ,MAE9B,OAAOmK,EA0CcC,CAAclK,EAAEC,QAC7BkK,EAAkB,CACtB5B,UAAW0B,EAAWjC,EAAUO,WAChCC,SAAUyB,EAAWjC,EAAUQ,UAC/BF,MAAO2B,EAAWjC,EAAUM,OAC5BG,OAAQwB,EAAWjC,EAAUS,QAC7BC,QAASuB,EAAWjC,EAAUU,SAC9BC,KAAMsB,EAAWjC,EAAUW,MAC3BC,QAASqB,EAAWjC,EAAUY,SAC9BC,SAAUoB,EAAWjC,EAAUa,WAE3BuB,EAAWvH,EAAKzC,KAAI,SAAC4D,GAAD,MAAe,CACvCe,OAAQf,EAASrB,KAAKpC,IACtB8J,SAAUrG,EAASrB,KAAKoD,MAAMpG,KAAO,IAAMqE,EAASrB,KAAKlC,MACzDyD,aAAcF,EAASE,aACvBjB,MAAOe,EAASf,MAChBD,MAAOgB,EAASf,MAAQe,EAASrB,KAAKK,UAElCsH,EAAQjH,EAAY4C,kBAG1BzG,QAAQC,IAAIiE,KAAKY,UAAU8F,IAG3BxE,EACEU,GAAY,CACV6D,kBACAtH,KAAMuH,EACNE,QACAC,sBAVyB,KAe/B/K,QAAQC,IAAI,8BAA+BgK,IAS7C,OANArK,qBAAU,WACJkI,IAAmBX,eAAaO,SAClCtB,EAASjB,OAEV,CAAC2C,EAAgB1B,IAEhB0B,IAAmBX,eAAaO,QAEhC,sBAAM1I,UAAU,WAAhB,SACE,sBAAKA,UAAU,YAAf,UACE,yBAASA,UAAU,SAAnB,SACE,oBAAIA,UAAU,iBAAd,mCAEF,0BAASgM,MAAO,CAAEC,UAAW,UAA7B,UACE,mBAAGD,MAAO,CAAEE,SAAU,QAASC,cAAe,OAA9C,qDACA,cAAC,EAAD,CAAQ3I,OAAQ,IAAKF,KAAK,IAAID,KAAK,uBAOzCyF,IAAmBX,eAAaS,MAEhC,sBAAM5I,UAAU,WAAhB,SACE,sBAAKA,UAAU,YAAf,UACE,yBAASA,UAAU,SAAnB,SACE,oBAAIA,UAAU,iBAAd,qBAEF,yBAASA,UAAU,iBAAnB,SACE,mBAAGA,UAAU,iBAAb,+DAQR,sBAAMA,UAAU,WAAhB,SACE,sBAAKA,UAAU,YAAf,UACE,yBAASA,UAAU,SAAnB,SACE,oBAAIA,UAAU,iBAAd,wBAEDqE,EAAK1C,OAAS,EACb,qCACE,0BAAS3B,UAAU,QAAnB,UACE,wCAAWqE,EAAK1C,UAChB,yCAAYkD,EAAY4C,mBAAiBD,QAAQ,GAAjD,UAEF,uBAAM4E,IAAKhD,EAAMiD,SAAUtB,EAA3B,UACE,0BAAS/K,UAAU,gCAAnB,UACE,mCACE,oBAAIA,UAAU,4BAAd,8BACCkJ,EACC,cAAC,IAAD,CAAelJ,UAAU,cAAc8B,QAAS,kBAAMqH,GAAwB,MAE9E,cAAC,IAAD,CAAanJ,UAAU,cAAc8B,QAAS,kBAAMqH,GAAwB,SAG/E2B,EAAmBlJ,KAAI,SAAC0K,GAAD,OACtB,sBAAKN,MAAO9C,EAAuB,CAAEqD,QAAS,QAAW,GAAIvM,UAAU,YAAvE,UACE,wBAAOwM,QAASF,EAAM9B,IAAtB,UAA4B8B,EAAM/B,MAAlC,QACC+B,EAAM7B,YAFT,yBAA0G6B,EAAM9B,YAMpH,0BAASxK,UAAU,+BAAnB,UACE,mCACE,oBAAIA,UAAU,4BAAd,6BACCgJ,EACC,cAAC,IAAD,CAAehJ,UAAU,cAAc8B,QAAS,kBAAMmH,GAAuB,MAE7E,cAAC,IAAD,CAAajJ,UAAU,cAAc8B,QAAS,kBAAMmH,GAAuB,SAG9EqB,EAAkB1I,KAAI,SAAC0K,GAAD,OACrB,sBAAKN,MAAOhD,EAAsB,CAAEuD,QAAS,QAAW,GAAIvM,UAAU,YAAtE,UACE,wBAAOA,UAAU,iBAAiBwM,QAASF,EAAM9B,IAAjD,UACG8B,EAAM/B,MADT,QAGC+B,EAAM7B,YAJT,wBAAwG6B,EAAM9B,YAQlH,yBAASxK,UAAU,cAAnB,SACE,cAAC,EAAD,CAAQ2D,QAASmF,IAAmBX,eAAaK,QAASnF,KAAK,cAAcgJ,SAAUtB,EAAc7J,KAAK,mBAKhH,kCACE,cAAC,EAAD,YCrVGuL,I,aAzBI,SAAC,GAAqD,EAAnDxK,MAAoD,IAA7Cb,EAA4C,EAA5CA,GAAIsL,EAAwC,EAAxCA,SAAUlG,EAA8B,EAA9BA,OAAQnD,EAAsB,EAAtBA,KAAMsJ,EAAgB,EAAhBA,UAAgB,EACjClM,oBAAS,GADwB,mBAChEoG,EADgE,KACnDC,EADmD,KAGvE,OACE,eAAC,IAAD,CACE3G,GAAI,CACFyM,SAAU,QACVrK,OAAO,GAAD,OAAKoK,EAAL,YAAkBvL,IAG1BpB,UAAS,eAAU0M,EAAW,YAAc,IAN9C,UAQE,sBAAM1M,UAAU,uBAAhB,SACE,qBACE+G,IAAKP,EACLQ,IAAK3D,EACLrD,UAAS,UAAK6G,EAAc,GAAK,eACjCI,OAAQ,kBAAMH,GAAe,QAGjC,wBAAQ9G,UAAU,YAAlB,SAA+BqD,SCZtBwJ,I,OATY,SAAC,GAAkB,IAAhBH,EAAe,EAAfA,SAC5B,OACE,sBAAK1M,UAAS,6BAAwB0M,EAAW,YAAc,IAA/D,UACE,sBAAM1M,UAAU,yBAChB,wBAAQA,UAAU,mBCuCT8M,GAxCc,SAAC,GAMvB,IALLC,EAKI,EALJA,UACA9K,EAII,EAJJA,MAII,IAHJ+K,iBAGI,SAFJC,EAEI,EAFJA,UACAN,EACI,EADJA,UAEA,OACE,8BACE,0BAAS3M,UAAU,QAAQoB,GAAIa,EAA/B,UACE,6BAAKA,IACL,qBAAKjC,UAAU,kBAAf,SACGgN,EACC,qCACE,cAAC,GAAD,CAAiCN,SAAUO,GAAlBrH,eACzB,cAAC,GAAD,CAAiC8G,SAAUO,GAAlBrH,eACzB,cAAC,GAAD,CAAiC8G,SAAUO,GAAlBrH,eACzB,cAAC,GAAD,CAAiC8G,SAAUO,GAAlBrH,kBAG3BmH,GACAA,EAAUpL,OAAS,GACnBoL,EAAUnL,KAAI,SAACsL,GAAD,OACZ,cAAC,GAAD,CAEER,SAAUO,EACV7L,GAAI8L,EAAKnL,IACTyE,OAAQ0G,EAAK1G,OACbnD,KAAM6J,EAAK/L,KACXc,MAAOA,EAAMkL,cACbR,UAAWA,GANNO,EAAKnL,gBC9BlBI,GAAaC,EAAQ,GAArBD,SACAE,GAAYD,EAAQ,IAApBC,QAMK+K,GAJQ,WACnB,OAAO/K,GAAQG,IAAR,UAAeL,GAAf,aCDIkL,GAAetF,YAAiB,gBAAD,sBAAkB,4BAAAhF,EAAA,sEAC1CqK,KAD0C,cACtDnF,EADsD,yBAErDA,EAAIhF,MAFiD,4CA4B/CqK,GAnBW3I,YAAY,CACpCxD,KAAM,SACNyD,aANmB,CACnBtD,MAAO,CAAEiM,OAAQ,GAAIP,WAAW,IAMhClI,SAAU,GACVwD,eAAa,mBACV+E,GAAa9E,SAAU,SAACvD,EAAOC,GAC9BD,EAAMgI,WAAY,KAFT,cAIVK,GAAa5E,WAAY,SAACzD,EAAOC,GAChCD,EAAM1D,MAAQ2D,EAAOQ,QAAQ8H,OAC7BvI,EAAMgI,WAAY,KANT,cAQVK,GAAa1E,UAAW,SAAC3D,EAAOC,GAC/BD,EAAM1D,MAAQ,GACd0D,EAAMgI,WAAY,KAVT,KAef,QC5BaQ,GAAmBzF,YAC9B,oBAD8C,sBAE9C,4BAAAhF,EAAA,sEACoB2E,IADpB,cACQO,EADR,yBAESA,EAAIhF,MAFb,4CA6BawK,GAnBgB9I,YAAY,CACzCxD,KAAM,aACNyD,aANmB,CACnBtD,MAAO,CAAEoM,WAAY,GAAIV,WAAW,IAMpClI,SAAU,GACVwD,eAAa,mBACVkF,GAAiBjF,SAAU,SAACvD,EAAOC,GAClCD,EAAMgI,WAAY,KAFT,cAIVQ,GAAiB/E,WAAY,SAACzD,EAAOC,GACpCD,EAAM1D,MAAQ2D,EAAOQ,QAAQiI,WAC7B1I,EAAMgI,WAAY,KANT,cAQVQ,GAAiB7E,UAAW,SAAC3D,EAAOC,GACnCD,EAAM1D,MAAQ,GACd0D,EAAMgI,WAAY,KAVT,KAef,QCzBO,SAASW,KACd,IAAMC,EAAkBtG,aAAY,SAACtC,GAAD,OAAWA,EAAMuI,OAAOP,aACtDa,EAAsBvG,aAC1B,SAACtC,GAAD,OAAWA,EAAM0I,WAAWV,aAExBO,EAASjG,aAAY,SAACtC,GAAD,OAAWA,EAAMuI,OAAOjM,SAC7CoM,EAAapG,aAAY,SAACtC,GAAD,OAAWA,EAAM0I,WAAWpM,SAErD8F,EAAWC,cAOjB,OALAzG,qBAAU,WACRwG,EAASiG,MACTjG,EAASoG,QACR,CAACpG,IAGF,iCACE,qBAAKpH,UAAU,YAAf,SACE,0BAASA,UAAU,OAAnB,UACE,6DACA,cAAC,EAAD,CAAQqD,KAAK,OAAOC,KAAK,IAAIC,MAAM,EAAMC,OAAO,qBAGpD,qBAAKxD,UAAU,qBAAf,SACE,qBAAKA,UAAU,2BAAf,SACE,cAAC,GAAD,CACEgN,UAAWa,EACXd,UAAWW,EACXzL,MAAM,aACNgL,WAAS,EACTN,UAAU,eALZ,yCAMyC/G,oBAI7C,qBAAK5F,UAAU,YAAf,SACE,cAAC,GAAD,CACEgN,UAAWY,EACXb,UAAWQ,EACXtL,MAAM,SACN0K,UAAU,YAJZ,qCAKqC/G,qB,UClDrCzD,GAAaC,EAAQ,GAArBD,SACAE,GAAYD,EAAQ,IAApBC,QAUKyL,GARI,SAACC,GAChB,OAAO1L,GAAQG,IAAR,UAAeL,GAAf,kBAAiC4L,KAO7BD,GAJO,SAAC1M,GACnB,OAAOiB,GAAQG,IAAR,UAAeL,GAAf,kBAAiCf,KCL7B4M,GAAcjG,YAAiB,eAAD,uCAAiB,WAAO3G,GAAP,eAAA2B,EAAA,sEACxC+K,GAAyB1M,GADe,cACpD6G,EADoD,yBAEnDA,EAAIhF,MAF+C,2CAAjB,uDAS9BgL,GAAoBtJ,YAAY,CAC3CxD,KAAM,YACNyD,aANmB,CACnBtD,MAAO,IAMPwD,SAAU,CACRoJ,WAAY,SAAClJ,EAAOC,GAClBD,EAAM1D,MAAQ,KAGlBgH,eAAa,qBACV0F,GAAYzF,SAAU,SAACvD,EAAOC,GAC7BD,EAAMgI,WAAY,KAFT,eAIVgB,GAAYvF,WAAY,SAACzD,EAAOC,GAC/BD,EAAM1D,MAAQ2D,EAAOQ,QAAQtB,KAC7Ba,EAAMgI,WAAY,KANT,eAQVgB,GAAYrF,UAAW,SAAC3D,EAAOC,GAC9BD,EAAM1D,MAAQ,GACd0D,EAAMgI,WAAY,KAVT,MAiBAiB,IAFeA,GAAkB7H,QAAjC8H,WAEAD,GAAf,SCdeE,I,MApBM,WACnB,OACE,sBACEnO,UAAU,6BACVgM,MAAO,CAAEoC,SAAU,YAFrB,SAIE,sBAAKpO,UAAU,YAAf,UACE,qBAAKA,UAAU,yBACf,mBAAGA,UAAU,eACb,mBAAGA,UAAU,eACb,mBAAGA,UAAU,eACb,sBAAKA,UAAU,mBAAf,UACE,mBAAGA,UAAU,4BACb,mBAAGA,UAAU,oCCPjBqO,GAAW,WAmGFC,GAjGF,WACX,IAAM5I,EAAe2D,iBAAOgF,IADX,EAEiB5N,oBAAS,GAF1B,mBAEV8N,EAFU,KAECC,EAFD,OAGqB/N,oBAAS,GAH9B,mBAGVgO,EAHU,KAGGC,EAHH,KAMXnI,EADYoI,cACOvN,GAEnBgG,EAAWC,cACXlD,EAAOmD,aAAY,SAACtC,GAAD,OAAWA,EAAM4J,aAAatN,SACjD0L,EAAY1F,aAAY,SAACtC,GAAD,OAAWA,EAAM4J,aAAa5B,aAM5D,GAJApM,qBAAU,WACRwG,EAAS4G,GAAYzH,MACpB,CAACa,EAAUb,IAEVyG,EACF,OAAO,cAAC,GAAD,IAGT,IAAK7I,IAASA,EAAKlC,MACjB,OACE,sBAAM+J,MAAO,CAAEoC,SAAU,YAAzB,SACE,oBAAIpC,MAAO,CAAEE,SAAU,GAAID,UAAW,SAAU4C,WAAY,IAA5D,8BA+BN,OACE,uBAAM7O,UAAU,eAAegM,MAAO,CAAEoC,SAAU,YAAlD,UACE,qBAAKpO,UAAU,iCAAf,SACE,qBAAK+G,IAAK5C,EAAKqC,OAAQQ,IAAK7C,EAAKlC,MAAOjC,UAAU,eAEpD,sBAAKA,UAAU,YAAf,UACE,qBAAIA,UAAU,aAAd,UACGmE,EAAKoD,MAAMpG,KADd,IACqBgD,EAAKlC,SAE1B,oBAAGjC,UAAU,aAAb,cAAgCmE,EAAKK,SACrC,oBAAGxE,UAAU,aAAb,UACE,wBAAQA,UAAU,iBAAlB,oBADF,IACsDmE,EAAKjC,SAE3D,sBAAKlC,UAAU,YAAf,UACGuO,GAAa,mBAAGvO,UAAU,kBAAb,gCACd,8BACE,wBAAQA,UAAU,iBAAlB,mBACA,yBAAQmB,KAAK,QAAQC,GAAG,QAAQG,SA3CjB,SAACuN,GACxBpJ,EAAaqJ,QAAUD,EAAMrN,OAAOH,MAEhCoE,EAAaqJ,UAAYV,IAC3BG,GAAa,IAuCP,UACE,wBAAQQ,cAAY,EAAC1N,MAAO+M,GAA5B,yBAGClK,EAAKhB,MAAMvB,KAAI,SAAC0B,EAAMiC,GAAP,OACd,wBAAQjE,MAAOgC,EAAf,SACGA,GADH,sBAAyCiC,gBAOjD,sBAAKvF,UAAU,mBAAf,UACE,mBAAGA,UAAU,0BAAb,SACE,wBAAQA,UAAU,iBAAlB,+BAEF,mBAAGA,UAAU,wBAAb,SAAsCmE,EAAK8K,iBAG5CR,GAAe,qBAAKzO,UAAU,6BAAf,SAA6D,SAAhByO,EAAyB,qBAAuB,kBAC7G,cAAC,EAAD,CAAQ3M,QAvDU,WAClB4D,EAAaqJ,UAAYV,IAC3BG,GAAa,GACbE,GAAe,KAGftH,EACE9B,EAAU,CACRnB,KAAMA,EACNuB,aAAcA,EAAaqJ,WAK/BL,GAAe,SAACQ,GAAD,OAAeA,GAAW,YAyCLxL,OAAK,EAACJ,KAAM,IAAKD,KAAMoL,EAAc,WAAa,cAAelL,MAAI,W,kBCnGlG4L,GAAWpH,YAAiB,YAAD,uCAAc,WAAOgG,GAAP,eAAAhL,EAAA,sEAClC+K,GAAsBC,GADY,cAC9C9F,EAD8C,yBAE7CA,EAAIhF,MAFyC,2CAAd,uDAK3BmM,GAAiBrH,YAAiB,kBAAD,uCAAoB,WAAOgG,GAAP,eAAAhL,EAAA,sEAC9C+K,GAAsBC,GADwB,cAC1D9F,EAD0D,yBAEzDA,EAAIhF,MAFqD,2CAApB,uDAUjCoM,GAAiB1K,YAAY,CACxCxD,KAAM,YACNyD,aAPmB,CACnBtD,MAAO,GACPgO,cAAc,GAMdxK,SAAU,CACRoJ,WAAY,SAAClJ,EAAOC,GAClBD,EAAM1D,MAAQ,GACd0D,EAAMuK,UAAY,GAClBvK,EAAMsK,cAAe,EACrBtK,EAAMwK,aAAe,KAGzBlH,eAAa,qBACV6G,GAAS5G,SAAU,SAACvD,EAAOC,GAC1BD,EAAMgI,WAAY,KAFT,eAIVmC,GAAS1G,WAAY,SAACzD,EAAOC,GAC5BD,EAAM1D,MAAQ2D,EAAOQ,QAAQvC,MAC7B8B,EAAMsK,aAAerK,EAAOQ,QAAQgK,OAAS,GAC7CzK,EAAMwK,aAAevK,EAAOQ,QAAQ+J,aACpCxK,EAAMgI,WAAY,EAClBhI,EAAMuK,UAAYtK,EAAOQ,QAAQ8J,aATxB,eAWVJ,GAASxG,UAAW,SAAC3D,EAAOC,GAC3BD,EAAM1D,MAAQ,GACd0D,EAAMgI,WAAY,EAClBhI,EAAMuK,UAAY,MAdT,eAiBVH,GAAe7G,SAAU,SAACvD,EAAOC,GAChCD,EAAMgI,WAAY,KAlBT,eAoBVoC,GAAe3G,WAAY,SAACzD,EAAOC,GAClCD,EAAM1D,MAAN,uBAAkB0D,EAAM1D,OAAxB,aAAkC2D,EAAOQ,QAAQvC,QACjD8B,EAAMwK,aAAevK,EAAOQ,QAAQ+J,aACpCxK,EAAMsK,aAAerK,EAAOQ,QAAQgK,OAAS,GAC7CzK,EAAMgI,WAAY,EAClBhI,EAAMuK,UAAYtK,EAAOQ,QAAQ8J,aAzBxB,eA2BVH,GAAezG,UAAW,SAAC3D,EAAOC,GACjCD,EAAM1D,MAAQ,GACd0D,EAAMgI,WAAY,EAClBhI,EAAMuK,UAAY,MA9BT,MAmCArB,GAAemB,GAAejJ,QAA9B8H,WAEAmB,MAAf,QC1CeK,I,MApBM,SAAC,GAAyC,IAAvCtO,EAAsC,EAAtCA,GAAIoF,EAAkC,EAAlCA,OAAQvE,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,MAAOsC,EAAY,EAAZA,MAAY,EACtB/D,oBAAS,GADa,mBACrDoG,EADqD,KACxCC,EADwC,KAG5D,OACE,eAAC,IAAD,CAAM3G,GAAE,gBAAWiB,GAAepB,UAAU,YAA5C,UACE,qBAAKA,UAAU,4BAAf,SACE,qBACE+G,IAAKP,EACLQ,IAAK/E,EACLjC,UAAS,UAAK6G,EAAc,GAAK,eACjCI,OAAQ,kBAAMH,GAAe,QAGjC,oBAAI9G,UAAU,kBAAd,SAAiCiC,IACjC,mBAAGjC,UAAU,kBAAb,SAAgCkC,IAChC,oBAAGlC,UAAU,kBAAb,cAAqCwE,OAXTpD,KCMnBuO,GAXc,WAC3B,OACE,sBAAK3P,UAAU,8BAAf,UACE,qBAAKA,UAAU,8BACf,mBAAGA,UAAU,oBACb,mBAAGA,UAAU,oBACb,mBAAGA,UAAU,wB,6BC4GJ4P,I,OA9GK,SAAC,GAAkD,IAAhDtP,EAA+C,EAA/CA,WAAYuP,EAAmC,EAAnCA,QAASC,EAA0B,EAA1BA,oBAA0B,EAC1BrP,mBAAS,IADiB,mBAC7DsP,EAD6D,KAC9CC,EAD8C,KAE5DzN,EAAW0N,cAAX1N,OAER3B,qBAAU,WAER,IADA,IAAIsP,EAAiB,GACrB,MAAmB5E,OAAOC,QAAQsE,GAAlC,eAA4C,CAC1C,IAD2C,IAAD,sBAAlCM,EAAkC,KAA/BC,EAA+B,KACjCC,EAAI,EAAGA,EAAID,EAAEzO,OAAQ0O,IAE5B,cAAqB/E,OAAOC,QAAQ+E,KAAYnL,MAAM5C,IAAtD,eAAgE,CAAC,IAAD,sBAAlDgO,GAAkD,WAE9D,IADAA,EAAKA,EAAGC,MAAM,MACP3M,SAASuM,EAAEC,GAAGjP,IAAMgP,EAAEC,GAAGlP,MAAO,CACrCH,QAAQC,IAAIsP,GACZ,IAAME,EAAI,aAAOL,GACjBK,EAAKJ,GAAL,2BAAeD,EAAEC,IAAjB,IAAqBK,SAAS,IAC9BN,EAAC,aAAOK,IAIdP,EAAeC,GAAK,CAClBQ,MAAM,EACNrP,MAAO8O,EACPM,QAASnO,EAAOsB,SAASuM,EAAEjP,MAAQiP,EAAEhP,KAGzC4O,EAAiBE,KAChB,CAACL,EAAStN,IAEb,IASMqO,EAAqB,SAACC,GAI1B,OAHeA,EAAWvP,MACC0E,QAAO,SAACoK,GAAD,OAAOA,EAAEM,WACZ9O,KAAI,SAACwO,GAAD,OAAOA,EAAEhP,IAAMgP,EAAEjP,QAClC2P,KAAK,MA0BzB,OACE,sBAAK9Q,UAAU,eAAf,UACE,yBAAS8B,QAASxB,EAAYN,UAAU,cAAxC,SACE,cAAC,KAAD,CAAUA,UAAU,iBAEtB,0BAASA,UAAU,gBAAnB,UACE,wBAAQA,UAAU,cAAlB,SACE,oBAAIA,UAAU,iBAAd,sBAEF,yBAASA,UAAU,2BAAnB,SACGsL,OAAOC,QAAQwE,GAAenO,KAAI,mCAAEuO,EAAF,KAAKC,EAAL,YACjC,sBAAkBpQ,UAAU,0BAA5B,UACE,mBACE8B,QAAS,kBApDS,SAAC0I,GAE/B,IAAMuG,EAAQ,2BACThB,GADS,kBAEXvF,EAFW,2BAEAuF,EAAcvF,IAFd,IAEoBmG,MAAOZ,EAAcvF,GAAKmG,SAE5DX,EAAiBe,GA8CUC,CAAwBb,IACvCnQ,UAAU,sBAFZ,SAIGmQ,IAEH,qBACEnQ,UAAU,iBACVgM,MAAOoE,EAAEO,KAAO,GAAK,CAAEpE,QAAS,QAFlC,SAIG6D,EAAE9O,MAAMM,KAAI,SAACqP,EAAU1L,GAAX,OACX,oBAEEzD,QAAS,kBAhDA,SAAC0I,EAAKjF,GAC/B,IAAMwL,EAAQ,eACThB,GAGCmB,EAAQ,aAAOH,EAASvG,GAAKlJ,OACnC4P,EAAS3L,GAAT,2BAAuB2L,EAAS3L,IAAhC,IAAwCmL,SAAUQ,EAAS3L,GAAOmL,UAElEK,EAASvG,GAAT,2BACKuG,EAASvG,IADd,IAEElJ,MAAM,aAAK4P,KAGbpB,EAAoB,CAClBqB,OAAQP,EAAmBG,EAAQ,QACnCK,SAAUR,EAAmBG,EAAQ,QACrCM,YAAaT,EAAmBG,EAAQ,YACxC5N,MAAOyN,EAAmBG,EAAQ,SAGpCf,EAAiBe,GA4BcO,CAAmBnB,EAAG5K,IACrCvF,UAAS,wBACPiR,EAASP,QAAU,wBAA0B,IAJjD,UAOE,+BAAOO,EAAS9P,OACf8P,EAASP,SAAW,4CAPhB9K,sBAbHA,4BCmGP2L,GA3KF,WACX,IAAMC,EAAYlK,aAAY,SAACtC,GAAD,OAAWA,EAAMwM,UAAUlQ,SACnDkO,EAAelI,aAAY,SAACtC,GAAD,OAAWA,EAAMwM,UAAUhC,gBACtDxC,EAAY1F,aAAY,SAACtC,GAAD,OAAWA,EAAMwM,UAAUxE,aACnDuC,EAAYjI,aAAY,SAACtC,GAAD,OAAWA,EAAMwM,UAAUjC,aACnDD,EAAehI,aAAY,SAACtC,GAAD,OAAWA,EAAMwM,UAAUlC,gBACtDlI,EAAWC,cAEXoK,EAAUC,cACRnP,EAAW0N,cAAX1N,OAEFoP,EAAOtI,iBAAO,GAXH,EAYS5I,mBAAS6P,KAAYnL,MAAM5C,IAZpC,mBAYVqP,EAZU,KAYHC,EAZG,OAaiCpR,oBAAS,GAb1C,mBAaVqR,EAbU,KAaSC,EAbT,OAcmBtR,mBAASuR,eAAaC,KAAKC,OAd9C,mBAcVC,EAdU,KAcEC,EAdF,OAeyB3R,mBAAS,IAflC,mBAeVsP,EAfU,KAeKC,EAfL,KAiBXqC,EAAsBvP,uBAAY,WACtC,IAAMwP,EAAW,CAEjBA,WAAqB,EACrBA,cAAwB,EACxBA,KAAgB,GAEhB,OAAOA,IACN,IAEH1R,qBAAU,WACR+Q,EAAK5C,QAAU,EACf,IAAIuD,EAAWhC,KAAYnL,MAAM5C,GACjCvB,QAAQC,IAAIqR,GACZF,EAAcE,EAASC,MAAQP,eAAaC,KAAKC,OAGjDI,EAAQ,2BAAQA,GAAaD,KAE7B,IAAMtE,EAAIzC,OAAOC,QAAQ+G,GACtB1Q,KAAI,mCAAE4I,EAAF,KAAOlJ,EAAP,qBAAqBkJ,EAArB,YAA4BlJ,MAChCwP,KAAK,KAKR,OAFA1J,EAAS+H,GAASpB,IAEX,WACL3G,EAAS8G,SAEV,CAAC9G,EAAUiL,EAAqB9P,IAEnC3B,qBAAU,WACR,IAAM4R,EAAclH,OAAOC,QAAQqG,GAChChQ,KAAI,SAAC6Q,GAAD,OAAUA,EAAI,GAAJ,UAAYA,EAAI,GAAhB,YAAsBA,EAAI,IAAO,QAC/CzM,QAAO,SAACyM,GAAD,OAAiB,OAARA,KAChB3B,KAAK,KAEF4B,EAAM,gBAAYF,IACpBA,GAAiD,IAAhClH,OAAOqH,OAAOf,GAAOjQ,SAAiBiQ,EAAMP,aAAeO,EAAMR,WACpFK,EAAQ9L,KAAK+M,KAEd,CAACjB,EAASG,IAEbhR,qBAAU,WAER,IADA,IAAMgS,EAAmB,GACzB,MAAqBtH,OAAOC,QAAQwE,GAApC,eAAoD,CAAC,IAAD,sBAAxCI,EAAwC,KAArCC,EAAqC,KAEhDwC,EAAiBzC,GADfC,GAGoB,KAG1ByB,GAAS,SAACzG,GAAD,mBAAC,eAAcA,GAAQwH,QAC/B,CAAC7C,IAgCJ,OACE,uBAAM/P,UAAW8R,EAAoB,aAAe,GAApD,UACGA,GACC,cAAC,GAAD,CAAajC,QAASL,EAAclP,WAAY,kBAAMyR,GAAqB,IAAQjC,oBAAqBE,IAE1G,yBAAQhQ,UAAU,SAAlB,UACE,qBAAKA,UAAU,YAAf,SACE,oBAAIA,UAAU,QAAd,SAAuBuP,MAEzB,sBAAKvP,UAAU,sBAAf,UACE,qBAAKA,UAAU,OAAf,SACE,wBAAQmB,KAAK,OAAOG,MAAO6Q,EAAY5Q,SAzCxB,SAACuN,GACxBsD,EAActD,EAAMrN,OAAOH,OAE3B,IAAMuR,EAAiB/D,EAAMrN,OAAOH,MAChCuR,IAAmBb,eAAac,IAAIZ,OAASW,IAAmBb,eAAae,KAAKb,MACpFL,GAAS,SAACzG,GAAD,mBAAC,eACLA,GADI,IAEPmH,KAAMM,OAGRhB,GAAS,SAACzG,GAAD,mBAAC,eAAcA,GAAf,IAAoBmH,KAAM,aA+B7B,SACGjH,OAAO0H,KAAKhB,gBAAcpQ,KAAI,SAAC4I,GAAD,OAC7B,wBAAmClJ,MAAO0Q,eAAaxH,GAAK0H,MAA5D,SACGF,eAAaxH,GAAKnH,MADrB,sBAA4BmH,WAMlC,wBAEE1I,QAzBc,WACtBiQ,GAAqB,IAyBb/R,UAAU,SAHZ,0BASJ,yBAASA,UAAU,QAAnB,SACE,sBAAKA,UAAU,YAAf,UACE,mBAAGA,UAAU,cAAb,UAA6BgN,GAAkC,IAArBwE,EAAU7P,QAAgB,kBACpE,qBAAK3B,UAAU,uBAAf,SACGgN,EACC,qCACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OAGFwE,EAAU5P,KAAI,SAACuC,GAAD,OACZ,cAAC,GAAD,CACE/C,GAAI+C,EAAKpC,IAETG,MAAOiC,EAAKjC,MACZsE,OAAQrC,EAAKqC,OACbhC,MAAOL,EAAKK,MACZvC,MAAOkC,EAAKnC,UAAY,IAAMmC,EAAKlC,OAJ9BkC,EAAKpC,IAAM6D,oBASxB,qBAAK5F,UAAU,gBAAf,SACGsP,EACCkC,EAAU7P,OAAS,GAAK,8BAAI6P,EAAU7P,OAAd,kBAExB,cAAC,EAAD,CAAQgC,QAASqJ,EAAWlL,QA5EvB,WACf6P,EAAK5C,QAAU4C,EAAK5C,QAAU,EAE9B,IAAIuD,EAAWhC,KAAYnL,MAAM5C,GACjC+P,EAAQ,uCAAQA,GAAaD,KAArB,IAA4CV,KAAMA,EAAK5C,UAC/D,IAAMhB,EAAIzC,OAAOC,QAAQ+G,GACtB1Q,KAAI,mCAAE4I,EAAF,KAAOlJ,EAAP,qBAAqBkJ,EAArB,YAA4BlJ,MAChCwP,KAAK,KAER1J,EAASgI,GAAerB,KAmEiC1K,KAAK,YAAYC,KAAK,iBC7IpE2P,GAxBH,kBACV,cAAC,IAAD,UACE,sBAAKjT,UAAU,MAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOkT,OAAK,EAACC,KAAK,IAAI1I,UAAWkD,KACjC,cAAC,IAAD,CAAOuF,OAAK,EAACC,KAAK,QAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,YAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,YAAZ,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,QAAZ,SACE,cAAC,GAAD,SAGJ,cAAC,EAAD,UCrBOC,GAAQC,YAAe,CAClCC,QAAS,CACPjP,KAAMkP,EACNhG,OAAQiG,GACR9F,WAAY+F,GACZjC,UAAWkC,GACX9E,aAAc+E,GACd5K,SAAU6K,M,OCRdC,IAASC,OACP,cAAC,IAAD,CAAUV,MAAOA,GAAjB,SACE,cAAC,GAAD,MAEFW,SAASC,eAAe,U,gCCX1B,2EAGMC,EAAiB,CACrBC,QAAS/R,WACTgS,QAAS,CACP,eAAgB,qBAIdC,EAAWC,IAAMC,OAAOL,GAMjB5R,EAAU,CACrBG,IALU,SAAC+R,GAAD,OAASH,EAAS5R,IAAI+R,IAMhC1M,KAJW,SAAC0M,EAAK3M,GAAN,OAAewM,EAASvM,KAAK0M,EAAK3M,M,8FCd/C,0LAAO,IAAMH,EAAkB,KAElBuK,EAAe,CAC1BC,KAAM,CACJC,MAAO,OACP7O,KAAM,QAERyP,IAAK,CACHZ,MAAO,QACP7O,KAAM,aAER0P,KAAM,CACJb,MAAO,SACP7O,KAAM,eAIGlB,EAAW,2DAEXgG,EAAe,CAC1BC,KAAM,OACNM,QAAS,UACTF,QAAS,UACTI,MAAO,U","file":"static/js/main.d85022e2.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Footer.scss';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"container\">\r\n        <p>&copy; {new Date().getFullYear()} VD Clothes</p>\r\n        <Link to=\"/\">Home</Link>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { AiOutlineSearch } from 'react-icons/ai';\r\nimport { Link } from 'react-router-dom';\r\nimport './SearchBar.scss';\r\n\r\nconst SearchBar = ({\r\n  searchSuggestions,\r\n  closeModal,\r\n  searchCallback,\r\n  afterMs,\r\n}) => {\r\n  const [searchValue, setSearchValue] = useState('');\r\n\r\n  useEffect(() => {\r\n    const delayDebounce = setTimeout(() => {\r\n      searchCallback(searchValue);\r\n    }, afterMs);\r\n\r\n    return () => clearTimeout(delayDebounce);\r\n  }, [searchValue, searchCallback, afterMs]);\r\n\r\n  useEffect(() => {\r\n    console.log('search suggestions: ', searchSuggestions);\r\n  }, [searchSuggestions]);\r\n\r\n  return (\r\n    <div className=\"search-bar-container\">\r\n      <div className=\"search-bar\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"search\"\r\n          id=\"search\"\r\n          placeholder=\"Search for items\"\r\n          value={searchValue}\r\n          onChange={(e) => setSearchValue(e.target.value)}\r\n          autoFocus\r\n        />\r\n        <button className=\"search-icon\">\r\n          <AiOutlineSearch className=\"icon\" />\r\n        </button>\r\n      </div>\r\n      <div className=\"search-bar-suggestions\">\r\n        {searchSuggestions === null ? (\r\n          ''\r\n        ) : (searchSuggestions && searchSuggestions.length) > 0 ? (\r\n          searchSuggestions.map((suggestion) => (\r\n            <Link\r\n              onClick={closeModal}\r\n              className=\"search-suggestion\"\r\n              key={`search-suggestion-${suggestion._id}`}\r\n              to={`/item/${suggestion._id}`}\r\n            >\r\n              {suggestion.brandName} {suggestion.title} ({suggestion.color})\r\n            </Link>\r\n          ))\r\n        ) : (\r\n          <div className=\"search-suggestion\">no items found</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","const { BASE_URL } = require('../utils/constants');\r\nconst { request } = require('./index');\r\n\r\nconst getSearchSuggestions = (search) => {\r\n  return request.get(\r\n    `${BASE_URL}/items?search=${search}&fields=_id,title,color,brandName`\r\n  );\r\n};\r\n\r\nexport const searchService = {\r\n  getSearchSuggestions,\r\n};\r\n","import React, { useCallback, useState } from 'react';\r\nimport './Navbar.scss';\r\nimport {\r\n  AiOutlineClose,\r\n  AiOutlineSearch,\r\n  AiOutlineShoppingCart,\r\n} from 'react-icons/ai';\r\nimport { Link } from 'react-router-dom';\r\nimport SearchBar from './SearchBar';\r\nimport { searchService } from '../services/searchService';\r\n\r\nconst SEARCH_AFTER_MS = 1000;\r\n\r\nconst Navbar = () => {\r\n  const [showSearchModal, setShowSearchModal] = useState(false);\r\n  const [searchSuggestions, setSearchSuggestions] = useState(null);\r\n\r\n  const handleSearch = useCallback(async (searchValue) => {\r\n    if (searchValue.length > 1) {\r\n      // make request to back, save data\r\n      const resp = await searchService.getSearchSuggestions(searchValue);\r\n\r\n      // set suggestions to req data\r\n      console.log(resp.data.items);\r\n      setSearchSuggestions(resp.data.items);\r\n    } else {\r\n      setSearchSuggestions(null);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"container\">\r\n        <Link to=\"/\" className=\"logo\">\r\n          VD Clothes\r\n        </Link>\r\n\r\n        <div className=\"icons\">\r\n          <AiOutlineSearch\r\n            className=\"icon\"\r\n            onClick={() => setShowSearchModal(true)}\r\n          />\r\n\r\n          <Link to=\"/cart\">\r\n            <AiOutlineShoppingCart className=\"icon\" />\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      {showSearchModal && (\r\n        <div className=\"search-modal\">\r\n          <button\r\n            className=\"close-modal\"\r\n            onClick={() => setShowSearchModal(false)}\r\n          >\r\n            <AiOutlineClose />\r\n          </button>\r\n          <div className=\"container\">\r\n            <SearchBar\r\n              searchSuggestions={searchSuggestions}\r\n              searchCallback={handleSearch}\r\n              afterMs={SEARCH_AFTER_MS}\r\n              closeModal={() => {\r\n                setShowSearchModal(false);\r\n                setSearchSuggestions(null);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Button.scss';\r\nimport { FaCircleNotch } from 'react-icons/fa';\r\n\r\nconst sizes = ['s', 'm', 'l'];\r\n\r\nconst Button = ({\r\n  text,\r\n  size,\r\n  dark,\r\n  linkTo,\r\n  routeTo,\r\n  onClick,\r\n  block,\r\n  loading,\r\n  ...rest\r\n}) => {\r\n  if (!sizes.includes(size)) size = 'm';\r\n\r\n  const classes = `btn btn-${size} ${dark ? 'btn-dark' : ''} ${\r\n    block ? 'btn-block' : ''\r\n  } ${loading ? 'btn-loading' : ''}`;\r\n\r\n  if (routeTo) {\r\n    return (\r\n      <Link href={routeTo} className={classes} onClick={onClick} {...rest}>\r\n        {text}\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  if (linkTo) {\r\n    return (\r\n      <a href={linkTo} className={classes} onClick={onClick} {...rest}>\r\n        {text}\r\n      </a>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <button\r\n      disabled={loading || false}\r\n      className={classes}\r\n      onClick={onClick}\r\n      {...rest}\r\n    >\r\n      {loading ? <FaCircleNotch className={'loading-icon'} /> : text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nconst initialState = {\r\n  value: [],\r\n  cartTotal: 0,\r\n};\r\n\r\nconst findIndexOfItemById = (items, id) => {\r\n  return items.findIndex((item) => item.id === id);\r\n};\r\n\r\nconst getCartTotal = (cart) => {\r\n  if (cart.length > 0) {\r\n    return cart.reduce((a, b) => +a + +b.item.price * b.count, 0);\r\n  } else {\r\n    return 0;\r\n  }\r\n};\r\n\r\nexport const cartSlice = createSlice({\r\n  name: 'cart',\r\n  initialState,\r\n  reducers: {\r\n    getCartFromLocalStorage(state, action) {\r\n      const cart = JSON.parse(localStorage.getItem('vdShopCart')) || [];\r\n      state.value = cart;\r\n\r\n      state.cartTotal = getCartTotal(state.value);\r\n    },\r\n    addToCart(state, action) {\r\n      let index = state.value.findIndex(\r\n        (cartItem) =>\r\n          cartItem.item.id === action.payload.item.id &&\r\n          cartItem.selectedSize === action.payload.selectedSize\r\n      );\r\n      // if item exists increment count\r\n      if (index > -1) {\r\n        state.value[index] = {\r\n          ...state.value[index],\r\n          item: action.payload.item,\r\n          selectedSize: action.payload.selectedSize,\r\n          count: state.value[index].count + 1,\r\n        };\r\n      } else {\r\n        state.value.push({\r\n          id: uuid(),\r\n          item: action.payload.item,\r\n          selectedSize: action.payload.selectedSize,\r\n          count: 1,\r\n        });\r\n      }\r\n\r\n      state.cartTotal = getCartTotal(state.value);\r\n      localStorage.setItem('vdShopCart', JSON.stringify(state.value));\r\n    },\r\n    removeFromCart(state, action) {\r\n      state.value = state.value.filter(\r\n        (cartItem) => cartItem.id !== action.payload.id\r\n      );\r\n\r\n      state.cartTotal = getCartTotal(state.value);\r\n      localStorage.setItem('vdShopCart', JSON.stringify(state.value));\r\n    },\r\n    incrementCount(state, action) {\r\n      const index = findIndexOfItemById(state.value, action.payload.id);\r\n      state.value[index].count++;\r\n\r\n      state.cartTotal = getCartTotal(state.value);\r\n      localStorage.setItem('vdShopCart', JSON.stringify(state.value));\r\n    },\r\n    decrementCount(state, action) {\r\n      const index = findIndexOfItemById(state.value, action.payload.id);\r\n      state.value[index].count--;\r\n      if (state.value[index].count === 0) {\r\n        // remove item\r\n        state.value = state.value.filter(\r\n          (cartItem) => cartItem.id !== action.payload.id\r\n        );\r\n      }\r\n\r\n      state.cartTotal = getCartTotal(state.value);\r\n      localStorage.setItem('vdShopCart', JSON.stringify(state.value));\r\n    },\r\n    clearCart(state, action) {\r\n      state.value = [];\r\n\r\n      state.cartTotal = getCartTotal(state.value);\r\n      localStorage.setItem('vdShopCart', JSON.stringify(state.value));\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  getCartFromLocalStorage,\r\n  addToCart,\r\n  removeFromCart,\r\n  incrementCount,\r\n  decrementCount,\r\n  clearCart,\r\n} = cartSlice.actions;\r\n\r\nexport default cartSlice.reducer;\r\n","import React, { useState } from 'react';\r\nimport { FaTimes } from 'react-icons/fa';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CartItem = ({\r\n  cartItemId,\r\n  itemId,\r\n  imgUrl,\r\n  title,\r\n  cartItemPrice,\r\n  color,\r\n  selectedSize,\r\n  count,\r\n  decrementCallback,\r\n  incrementCallback,\r\n  removeCallback,\r\n}) => {\r\n  const [isImgLoaded, setIsImgLoaded] = useState(false);\r\n\r\n  return (\r\n    <div className=\"cart-item\" key={cartItemId}>\r\n      <Link to={`/item/${itemId}`} className=\"cart-item-img-container\">\r\n        <img\r\n          src={imgUrl}\r\n          alt={title}\r\n          className={`${isImgLoaded ? '' : 'img-loading'}`}\r\n          onLoad={() => setIsImgLoaded(true)}\r\n        />\r\n      </Link>\r\n      <div className=\"cart-item-info-container\">\r\n        <p className=\"cart-item-price\">\r\n          <strong>&#36;{cartItemPrice}</strong>\r\n        </p>\r\n        <p className=\"cart-item-title\">{title}</p>\r\n        <div className=\"cart-item-info\">\r\n          <p className=\"cart-item-color\">{color}</p>\r\n          <p className=\"cart-item-size\">{selectedSize}</p>\r\n          <div className=\"cart-item-quantity\">\r\n            <div className=\"cart-item-quantity-change\">\r\n              <button onClick={() => decrementCallback()}>-</button>\r\n            </div>\r\n            <p>Qty: {count}</p>\r\n            <div className=\"cart-item-quantity-change\">\r\n              <button onClick={() => incrementCallback()}>+</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"cart-item-remove\">\r\n        <button onClick={() => removeCallback()}>\r\n          {<FaTimes className=\"cart-item-remove-icon\" />}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import React from 'react';\r\nimport { AiOutlineShoppingCart } from 'react-icons/ai';\r\nimport Button from './Button';\r\nimport './CartEmpty.scss';\r\n\r\nconst CartEmpty = ({ text }) => {\r\n  return (\r\n    <div className=\"cart-empty-container\">\r\n      <div>\r\n        <AiOutlineShoppingCart className=\"cart-empty-icon\" />\r\n      </div>\r\n      <p>{text || 'Your cart is empty'}</p>\r\n      <Button linkTo={'/'} size=\"l\" text=\"Go shopping\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartEmpty;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Button from '../../components/Button';\r\nimport './style.scss';\r\n\r\nimport { DELIEVERY_PRICE } from '../../utils/constants';\r\nimport { decrementCount, getCartFromLocalStorage, incrementCount, removeFromCart } from '../../features/cartSlice';\r\nimport CartItem from './components/CartItem';\r\nimport CartEmpty from '../../components/CartEmpty';\r\n\r\nconst Cart = () => {\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((state) => state.cart.value);\r\n  const cartTotal = useSelector((state) => state.cart.cartTotal);\r\n\r\n  useEffect(() => {\r\n    dispatch(getCartFromLocalStorage());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <main className=\"cart\">\r\n      <div className=\"container\">\r\n        <section className=\"header\">\r\n          <h1 className=\"letter-spacing\">my bag</h1>\r\n        </section>\r\n        {cart.length > 0 ? (\r\n          <>\r\n            <section className=\"cart-items\">\r\n              {cart.map((cartItem) => (\r\n                <CartItem\r\n                  key={cartItem.id}\r\n                  cartItemId={cartItem.id}\r\n                  itemId={cartItem.item._id}\r\n                  imgUrl={cartItem.item.imgUrl}\r\n                  title={cartItem.item.brand.name + ' ' + cartItem.item.title}\r\n                  cartItemPrice={(cartItem.item.price * cartItem.count).toFixed(2)}\r\n                  color={cartItem.item.color}\r\n                  selectedSize={cartItem.selectedSize}\r\n                  count={cartItem.count}\r\n                  decrementCallback={() => dispatch(decrementCount({ id: cartItem.id }))}\r\n                  incrementCallback={() => dispatch(incrementCount({ id: cartItem.id }))}\r\n                  removeCallback={() => {\r\n                    dispatch(\r\n                      removeFromCart({\r\n                        id: cartItem.id,\r\n                      })\r\n                    );\r\n                  }}\r\n                />\r\n              ))}\r\n            </section>\r\n            <section className=\"total\">\r\n              <p>\r\n                <strong>\r\n                  <span className=\"letter-spacing\">sub-total:</span> &#36;\r\n                  {cartTotal.toFixed(2)}\r\n                </strong>\r\n              </p>\r\n            </section>\r\n            <section className=\"checkout\">\r\n              <h2 className=\"letter-spacing\">\r\n                <strong>total: &#36;{(cartTotal + DELIEVERY_PRICE).toFixed(2)}</strong>\r\n              </h2>\r\n              <div className=\"checkout-price\">\r\n                <p className=\"letter-spacing\">\r\n                  <strong>sub-total</strong>\r\n                </p>\r\n                <p className=\"price\">&#36;{cartTotal.toFixed(2)}</p>\r\n              </div>\r\n              <div className=\"checkout-price\">\r\n                <p className=\"letter-spacing\">\r\n                  <strong>delievery</strong>\r\n                </p>\r\n                <p className=\"price\">&#36;{DELIEVERY_PRICE.toFixed(2)}</p>\r\n              </div>\r\n              <div\r\n                className=\"checkout-btn\r\n          \"\r\n              >\r\n                <Button dark size=\"l\" block text=\"CHECKOUT\" disabled={cartTotal <= 0} linkTo=\"/checkout\" />\r\n              </div>\r\n            </section>\r\n          </>\r\n        ) : (\r\n          <section className=\"empty-cart\">\r\n            <CartEmpty />\r\n          </section>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","const { BASE_URL } = require('../utils/constants');\r\nconst { request } = require('./index');\r\n\r\nconst getAllCategories = () => {\r\n  return request.get(`${BASE_URL}/categories`);\r\n};\r\n\r\nexport const categoriesService = {\r\n  getAllCategories,\r\n};\r\n","const { BASE_URL } = require('../utils/constants');\r\nconst { request } = require('./index');\r\n\r\nconst createOrder = (body) => {\r\n  return request.post(`${BASE_URL}/orders`, body);\r\n};\r\n\r\nexport const checkoutService = {\r\n  createOrder,\r\n};\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { categoriesService } from '../services/categoriesService';\r\nimport { checkoutService } from '../services/checkoutService';\r\nimport { REDUX_STATUS } from '../utils/constants';\r\n\r\nexport const createOrder = createAsyncThunk(\r\n  'get/allCategories',\r\n  async (orderDetails) => {\r\n    const res = await checkoutService.createOrder(orderDetails);\r\n    return res.data;\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  status: REDUX_STATUS.IDLE,\r\n};\r\n\r\nexport const checkoutSlice = createSlice({\r\n  name: 'categories',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: {\r\n    [createOrder.pending]: (state, action) => {\r\n      state.status = REDUX_STATUS.LOADING;\r\n    },\r\n    [createOrder.fulfilled]: (state, action) => {\r\n      state.status = REDUX_STATUS.SUCCESS;\r\n    },\r\n    [createOrder.rejected]: (state, action) => {\r\n      state.status = REDUX_STATUS.ERROR;\r\n    },\r\n  },\r\n});\r\n\r\nexport default checkoutSlice.reducer;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport './style.scss';\r\nimport { FaChevronUp, FaChevronDown } from 'react-icons/fa';\r\nimport validator from 'validator';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { clearCart, getCartFromLocalStorage } from '../../features/cartSlice';\r\nimport CartEmpty from '../../components/CartEmpty';\r\nimport { DELIEVERY_PRICE, REDUX_STATUS } from '../../utils/constants';\r\nimport { createOrder } from '../../features/checkoutSlice';\r\nimport Button from '../../components/Button';\r\n\r\nconst Checkout = () => {\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((state) => state.cart.value);\r\n  const cartTotal = useSelector((state) => state.cart.cartTotal);\r\n  const checkoutStatus = useSelector((state) => state.checkout.status);\r\n\r\n  useEffect(() => {\r\n    dispatch(getCartFromLocalStorage());\r\n  }, [dispatch]);\r\n\r\n  const [isPaymentFormHidden, setIsPaymentFormHidden] = useState(false);\r\n  const [isShippingFormHidden, setIsShippingFormHidden] = useState(false);\r\n  const form = useRef('form');\r\n\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n  const fieldKeys = {\r\n    cardNumber: 'cardNumber',\r\n    expiryMonth: 'expiryMonth',\r\n    expiryYear: 'expiryYear',\r\n    nameOnCard: 'nameOnCard',\r\n    cvv: 'cvv',\r\n    email: 'email',\r\n    firstName: 'firstName',\r\n    lastName: 'lastName',\r\n    mobile: 'mobile',\r\n    country: 'country',\r\n    city: 'city',\r\n    address: 'address',\r\n    postcode: 'postcode',\r\n  };\r\n\r\n  const paymentFormFields = [\r\n    {\r\n      label: 'card number',\r\n      key: fieldKeys.cardNumber,\r\n      component: (\r\n        <>\r\n          {formErrors[fieldKeys.cardNumber] && <p className=\"input-error\">{formErrors[fieldKeys.cardNumber]}</p>}\r\n          <input\r\n            className={formErrors[fieldKeys.cardNumber] ? 'error-border' : ''}\r\n            placeholder=\"4012 8888 8888 1881\"\r\n            type=\"text\"\r\n            name={fieldKeys.cardNumber}\r\n          />\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      label: 'expiry date',\r\n      key: 'expiryDate',\r\n      component: (\r\n        <>\r\n          {(formErrors[fieldKeys.expiryMonth] || formErrors[fieldKeys.expiryYear]) && (\r\n            <p className=\"input-error\">{formErrors[fieldKeys.expiryMonth] || formErrors[fieldKeys.expiryYear]}</p>\r\n          )}\r\n          <div className=\"split-inputs\">\r\n            <input\r\n              className={formErrors[fieldKeys.expiryMonth] ? 'error-border' : ''}\r\n              type=\"number\"\r\n              name={fieldKeys.expiryMonth}\r\n              placeholder=\"Month\"\r\n              min={1}\r\n              max={12}\r\n            />\r\n            <input\r\n              className={formErrors[fieldKeys.expiryYear] ? 'error-border' : ''}\r\n              type=\"number\"\r\n              name={fieldKeys.expiryYear}\r\n              placeholder=\"Year\"\r\n              min={new Date().getFullYear()}\r\n              max={new Date().getFullYear() + 10}\r\n            />\r\n          </div>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      label: 'name on card',\r\n      key: fieldKeys.nameOnCard,\r\n      component: (\r\n        <>\r\n          {formErrors[fieldKeys.nameOnCard] && <p className=\"input-error\">{formErrors[fieldKeys.nameOnCard]}</p>}\r\n          <input className={formErrors[fieldKeys.nameOnCard] ? 'error-border' : ''} type=\"text\" name={fieldKeys.nameOnCard} />\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      label: 'cvv',\r\n      key: fieldKeys.cvv,\r\n      component: (\r\n        <>\r\n          {formErrors[fieldKeys.cvv] && <p className=\"input-error\">{formErrors[fieldKeys.cvv]}</p>}\r\n          <input className={formErrors[fieldKeys.cvv] ? 'error-border' : ''} type=\"password\" name={fieldKeys.cvv} maxLength={3} minLength={3} />\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n  const shippingFormFields = [\r\n    {\r\n      label: 'email',\r\n      key: fieldKeys.email,\r\n      component: (\r\n        <>\r\n          {formErrors[fieldKeys.email] && <p className=\"input-error\">{formErrors[fieldKeys.email]}</p>}\r\n          <input className={formErrors[fieldKeys.email] ? 'error-border' : ''} type=\"email\" name={fieldKeys.email} />\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      label: 'first name',\r\n      key: fieldKeys.firstName,\r\n      component: (\r\n        <>\r\n          {formErrors[fieldKeys.firstName] && <p className=\"input-error\">{formErrors[fieldKeys.firstName]}</p>}\r\n          <input className={formErrors[fieldKeys.firstName] ? 'error-border' : ''} type=\"text\" name={fieldKeys.firstName} />\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      label: 'last name',\r\n      key: fieldKeys.lastName,\r\n      component: (\r\n        <>\r\n          {formErrors[fieldKeys.lastName] && <p className=\"input-error\">{formErrors[fieldKeys.lastName]}</p>}\r\n\r\n          <input type=\"text\" name={fieldKeys.lastName} className={formErrors[fieldKeys.lastName] ? 'error-border' : ''} />\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      label: 'mobile',\r\n      key: fieldKeys.mobile,\r\n      component: (\r\n        <>\r\n          {formErrors[fieldKeys.mobile] && <p className=\"input-error\">{formErrors[fieldKeys.mobile]}</p>}\r\n\r\n          <input type=\"tel\" name={fieldKeys.mobile} placeholder=\"+373 781 201 29\" className={formErrors[fieldKeys.mobile] ? 'error-border' : ''} />\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      label: 'country',\r\n      key: fieldKeys.country,\r\n      component: (\r\n        <>\r\n          {formErrors[fieldKeys.country] && <p className=\"input-error\">{formErrors[fieldKeys.country]}</p>}\r\n\r\n          <input className={formErrors[fieldKeys.country] ? 'error-border' : ''} type=\"text\" name={fieldKeys.country} />\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      label: 'city',\r\n      key: fieldKeys.city,\r\n      component: (\r\n        <>\r\n          {formErrors[fieldKeys.city] && <p className=\"input-error\">{formErrors[fieldKeys.city]}</p>}\r\n          <input className={formErrors[fieldKeys.city] ? 'error-border' : ''} type=\"text\" name={fieldKeys.city} />\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      label: 'address',\r\n      key: fieldKeys.address,\r\n      component: (\r\n        <>\r\n          {formErrors[fieldKeys.address] && <p className=\"input-error\">{formErrors[fieldKeys.address]}</p>}\r\n          <input className={formErrors[fieldKeys.address] ? 'error-border' : ''} type=\"text\" name={fieldKeys.address} />\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      label: 'postcode',\r\n      key: fieldKeys.postcode,\r\n      component: (\r\n        <>\r\n          {formErrors[fieldKeys.postcode] && <p className=\"input-error\">{formErrors[fieldKeys.postcode]}</p>}\r\n          <input className={formErrors[fieldKeys.postcode] ? 'error-border' : ''} type=\"text\" name={fieldKeys.postcode} />\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const getFormValues = (form) => {\r\n    const formValues = {};\r\n    for (const [key] of Object.entries(fieldKeys)) {\r\n      formValues[key] = form[key].value;\r\n    }\r\n    return formValues;\r\n  };\r\n\r\n  const validateForm = (form) => {\r\n    let formCompletedSuccessfully = true;\r\n\r\n    for (const [key] of Object.entries(fieldKeys)) {\r\n      if (form[key] && form[key].value && form[key].value !== '') {\r\n        if (key === fieldKeys.cardNumber) {\r\n          if (formCompletedSuccessfully) {\r\n            const cardValid = validator.isCreditCard(form[key].value);\r\n            if (!cardValid) {\r\n              setFormErrors((old) => ({ ...old, [key]: 'card is invalid' }));\r\n              formCompletedSuccessfully = false;\r\n            }\r\n          }\r\n        } else if (key === fieldKeys.email) {\r\n          if (formCompletedSuccessfully) {\r\n            const emailValid = validator.isEmail(form[key].value);\r\n            if (!emailValid) {\r\n              setFormErrors((old) => ({ ...old, [key]: 'email is invalid' }));\r\n              formCompletedSuccessfully = false;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        setFormErrors((old) => ({ ...old, [key]: 'field is required' }));\r\n        if (formCompletedSuccessfully) formCompletedSuccessfully = false;\r\n      }\r\n    }\r\n\r\n    return formCompletedSuccessfully;\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    setFormErrors({});\r\n    const formCompletedSuccessfully = validateForm(e.target);\r\n\r\n    // get form field values\r\n    if (formCompletedSuccessfully) {\r\n      const formValues = getFormValues(e.target);\r\n      const shippingDetails = {\r\n        firstName: formValues[fieldKeys.firstName],\r\n        lastName: formValues[fieldKeys.lastName],\r\n        email: formValues[fieldKeys.email],\r\n        mobile: formValues[fieldKeys.mobile],\r\n        country: formValues[fieldKeys.country],\r\n        city: formValues[fieldKeys.city],\r\n        address: formValues[fieldKeys.address],\r\n        postcode: formValues[fieldKeys.postcode],\r\n      };\r\n      const cartInfo = cart.map((cartItem) => ({\r\n        itemId: cartItem.item._id,\r\n        itemName: cartItem.item.brand.name + ' ' + cartItem.item.title,\r\n        selectedSize: cartItem.selectedSize,\r\n        count: cartItem.count,\r\n        price: cartItem.count * cartItem.item.price,\r\n      }));\r\n      const total = cartTotal + DELIEVERY_PRICE;\r\n      const paymentStatusSuccess = true;\r\n\r\n      console.log(JSON.stringify(cartInfo));\r\n\r\n      // make post api request\r\n      dispatch(\r\n        createOrder({\r\n          shippingDetails,\r\n          cart: cartInfo,\r\n          total,\r\n          paymentStatusSuccess,\r\n        })\r\n      );\r\n    }\r\n\r\n    console.log('formCompletedSuccessfully: ', formCompletedSuccessfully);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (checkoutStatus === REDUX_STATUS.SUCCESS) {\r\n      dispatch(clearCart());\r\n    }\r\n  }, [checkoutStatus, dispatch]);\r\n\r\n  if (checkoutStatus === REDUX_STATUS.SUCCESS) {\r\n    return (\r\n      <main className=\"checkout\">\r\n        <div className=\"container\">\r\n          <section className=\"header\">\r\n            <h1 className=\"letter-spacing\">thanks for ordering</h1>\r\n          </section>\r\n          <section style={{ textAlign: 'center' }}>\r\n            <p style={{ fontSize: '1.4em', paddingBottom: '1em' }}>We've sent you a email with your order!</p>\r\n            <Button linkTo={'/'} size=\"l\" text=\"MORE ITEMS\" />\r\n          </section>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  if (checkoutStatus === REDUX_STATUS.ERROR) {\r\n    return (\r\n      <main className=\"checkout\">\r\n        <div className=\"container\">\r\n          <section className=\"header\">\r\n            <h1 className=\"letter-spacing\">oops!</h1>\r\n          </section>\r\n          <section className=\"checkout-error\">\r\n            <p className=\"letter-spacing\">something strange occured, try again later</p>\r\n          </section>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"checkout\">\r\n      <div className=\"container\">\r\n        <section className=\"header\">\r\n          <h1 className=\"letter-spacing\">checkout</h1>\r\n        </section>\r\n        {cart.length > 0 ? (\r\n          <>\r\n            <section className=\"total\">\r\n              <p>items: {cart.length}</p>\r\n              <p>total: {(cartTotal + DELIEVERY_PRICE).toFixed(2)}$</p>\r\n            </section>\r\n            <form ref={form} onSubmit={handleSubmit}>\r\n              <section className=\"form-section shipping-address\">\r\n                <header>\r\n                  <h2 className=\"form-title letter-spacing\">shipping details</h2>\r\n                  {isShippingFormHidden ? (\r\n                    <FaChevronDown className=\"toggle-form\" onClick={() => setIsShippingFormHidden(false)} />\r\n                  ) : (\r\n                    <FaChevronUp className=\"toggle-form\" onClick={() => setIsShippingFormHidden(true)} />\r\n                  )}\r\n                </header>\r\n                {shippingFormFields.map((field) => (\r\n                  <div style={isShippingFormHidden ? { display: 'none' } : {}} className=\"form-item\" key={`form-item-ship-${field.key}`}>\r\n                    <label htmlFor={field.key}>{field.label} :</label>\r\n                    {field.component}\r\n                  </div>\r\n                ))}\r\n              </section>\r\n              <section className=\"form-section payment-details\">\r\n                <header>\r\n                  <h2 className=\"form-title letter-spacing\">payment details</h2>\r\n                  {isPaymentFormHidden ? (\r\n                    <FaChevronDown className=\"toggle-form\" onClick={() => setIsPaymentFormHidden(false)} />\r\n                  ) : (\r\n                    <FaChevronUp className=\"toggle-form\" onClick={() => setIsPaymentFormHidden(true)} />\r\n                  )}\r\n                </header>\r\n                {paymentFormFields.map((field) => (\r\n                  <div style={isPaymentFormHidden ? { display: 'none' } : {}} className=\"form-item\" key={`form-item-pay-${field.key}`}>\r\n                    <label className=\"letter-spacing\" htmlFor={field.key}>\r\n                      {field.label} :\r\n                    </label>\r\n                    {field.component}\r\n                  </div>\r\n                ))}\r\n              </section>\r\n              <section className=\"submit-form\">\r\n                <Button loading={checkoutStatus === REDUX_STATUS.LOADING} text=\"PLACE ORDER\" onSubmit={handleSubmit} type=\"submit\" />\r\n              </section>\r\n            </form>\r\n          </>\r\n        ) : (\r\n          <section>\r\n            <CartEmpty />\r\n          </section>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './SimpleCard.scss';\r\n\r\nconst SimpleCard = ({ title, id, darkMode, imgUrl, text, linkQuery }) => {\r\n  const [isImgLoaded, setIsImgLoaded] = useState(false);\r\n\r\n  return (\r\n    <Link\r\n      to={{\r\n        pathname: '/shop',\r\n        search: `${linkQuery}=${id}`,\r\n        // pathname: `/shop?${linkQuery}=${id}`,\r\n      }}\r\n      className={`card ${darkMode ? 'card-dark' : ''}`}\r\n    >\r\n      <main className=\"card-image-container\">\r\n        <img\r\n          src={imgUrl}\r\n          alt={text}\r\n          className={`${isImgLoaded ? '' : 'img-loading'}`}\r\n          onLoad={() => setIsImgLoaded(true)}\r\n        />\r\n      </main>\r\n      <footer className=\"card-text\">{text}</footer>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default SimpleCard;\r\n","import React from 'react';\r\nimport './SimpleCard.scss';\r\n\r\nconst SimpleCardSkeleton = ({ darkMode }) => {\r\n  return (\r\n    <div className={`card card-skeleton ${darkMode ? 'card-dark' : ''}`}>\r\n      <main className=\"card-image-container\"></main>\r\n      <footer className=\"card-text\"></footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimpleCardSkeleton;\r\n","import React from 'react';\r\nimport SimpleCard from './SimpleCard';\r\nimport './SimpleCardsContainer.scss';\r\nimport SimpleCardSkeleton from './SimpleCardSkeleton';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nconst SimpleCardsContainer = ({\r\n  cardsData,\r\n  title,\r\n  isLoading = true,\r\n  darkCards,\r\n  linkQuery,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <section className=\"cards\" id={title}>\r\n        <h2>{title}</h2>\r\n        <div className=\"cards-container\">\r\n          {isLoading ? (\r\n            <>\r\n              <SimpleCardSkeleton key={uuid()} darkMode={darkCards} />\r\n              <SimpleCardSkeleton key={uuid()} darkMode={darkCards} />\r\n              <SimpleCardSkeleton key={uuid()} darkMode={darkCards} />\r\n              <SimpleCardSkeleton key={uuid()} darkMode={darkCards} />\r\n            </>\r\n          ) : (\r\n            cardsData &&\r\n            cardsData.length > 0 &&\r\n            cardsData.map((card) => (\r\n              <SimpleCard\r\n                key={card._id}\r\n                darkMode={darkCards}\r\n                id={card._id}\r\n                imgUrl={card.imgUrl}\r\n                text={card.name}\r\n                title={title.toLowerCase()}\r\n                linkQuery={linkQuery}\r\n              />\r\n            ))\r\n          )}\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimpleCardsContainer;\r\n","const { BASE_URL } = require('../utils/constants');\r\nconst { request } = require('./index');\r\n\r\nconst getAllBrands = () => {\r\n  return request.get(`${BASE_URL}/brands`);\r\n};\r\n\r\nexport const brandsService = {\r\n  getAllBrands,\r\n};\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { brandsService } from '../services/brandsService';\r\n\r\nexport const getAllBrands = createAsyncThunk('get/allBrands', async () => {\r\n  const res = await brandsService.getAllBrands();\r\n  return res.data;\r\n});\r\n\r\nconst initialState = {\r\n  value: { brands: [], isLoading: true },\r\n};\r\n\r\nexport const brandSlice = createSlice({\r\n  name: 'brands',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: {\r\n    [getAllBrands.pending]: (state, action) => {\r\n      state.isLoading = true;\r\n    },\r\n    [getAllBrands.fulfilled]: (state, action) => {\r\n      state.value = action.payload.brands;\r\n      state.isLoading = false;\r\n    },\r\n    [getAllBrands.rejected]: (state, action) => {\r\n      state.value = [];\r\n      state.isLoading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default brandSlice.reducer;\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { categoriesService } from '../services/categoriesService';\r\n\r\nexport const getAllCategories = createAsyncThunk(\r\n  'get/allCategories',\r\n  async () => {\r\n    const res = await categoriesService.getAllCategories();\r\n    return res.data;\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  value: { categories: [], isLoading: true },\r\n};\r\n\r\nexport const categoriesSlice = createSlice({\r\n  name: 'categories',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: {\r\n    [getAllCategories.pending]: (state, action) => {\r\n      state.isLoading = true;\r\n    },\r\n    [getAllCategories.fulfilled]: (state, action) => {\r\n      state.value = action.payload.categories;\r\n      state.isLoading = false;\r\n    },\r\n    [getAllCategories.rejected]: (state, action) => {\r\n      state.value = [];\r\n      state.isLoading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default categoriesSlice.reducer;\r\n","import './style.scss';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Button from '../../components/Button';\r\nimport SimpleCardsContainer from '../../components/SimpleCardsContainer';\r\nimport { useEffect } from 'react';\r\nimport { getAllBrands } from '../../features/brandsSlice';\r\nimport { getAllCategories } from '../../features/categoriesSlice';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nexport function HomePage() {\r\n  const isLoadingBrands = useSelector((state) => state.brands.isLoading);\r\n  const isLoadingCategories = useSelector(\r\n    (state) => state.categories.isLoading\r\n  );\r\n  const brands = useSelector((state) => state.brands.value);\r\n  const categories = useSelector((state) => state.categories.value);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllBrands());\r\n    dispatch(getAllCategories());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <main>\r\n      <div className=\"container\">\r\n        <section className=\"hero\">\r\n          <h1>Welcome&nbsp;to VD&nbsp;Clothes</h1>\r\n          <Button text=\"SHOP\" size=\"l\" dark={true} linkTo=\"#Categories\" />\r\n        </section>\r\n      </div>\r\n      <div className=\"categories-wrapper\">\r\n        <div className=\"container container-dark\">\r\n          <SimpleCardsContainer\r\n            isLoading={isLoadingCategories}\r\n            cardsData={categories}\r\n            title=\"Categories\"\r\n            darkCards\r\n            linkQuery=\"categoryIds\"\r\n            key={`SimpleCardsContainerCategories-${uuid()}`}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"container\">\r\n        <SimpleCardsContainer\r\n          isLoading={isLoadingBrands}\r\n          cardsData={brands}\r\n          title=\"Brands\"\r\n          linkQuery=\"brandIds\"\r\n          key={`SimpleCardsContainerBrands-${uuid()}`}\r\n        />\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","const { BASE_URL } = require('../utils/constants');\r\nconst { request } = require('./index');\r\n\r\nconst getItems = (q) => {\r\n  return request.get(`${BASE_URL}/items?${q}`);\r\n};\r\n\r\nconst getItemById = (id) => {\r\n  return request.get(`${BASE_URL}/items/${id}`);\r\n};\r\n\r\nexport const itemsService = {\r\n  getItems,\r\n  getItemById,\r\n};\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { itemsService } from '../services/itemsService';\r\n\r\nexport const getItemById = createAsyncThunk('get/itemById', async (id) => {\r\n  const res = await itemsService.getItemById(id);\r\n  return res.data;\r\n});\r\n\r\nconst initialState = {\r\n  value: [],\r\n};\r\n\r\nexport const selectedItemSlice = createSlice({\r\n  name: 'shopItems',\r\n  initialState,\r\n  reducers: {\r\n    resetState: (state, action) => {\r\n      state.value = [];\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [getItemById.pending]: (state, action) => {\r\n      state.isLoading = true;\r\n    },\r\n    [getItemById.fulfilled]: (state, action) => {\r\n      state.value = action.payload.item;\r\n      state.isLoading = false;\r\n    },\r\n    [getItemById.rejected]: (state, action) => {\r\n      state.value = {};\r\n      state.isLoading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { resetState } = selectedItemSlice.actions;\r\n\r\nexport default selectedItemSlice.reducer;\r\n","import React from 'react';\r\nimport '../style.scss';\r\n\r\nconst ItemSkeleton = () => {\r\n  return (\r\n    <main\r\n      className=\"item-details item-skeleton\"\r\n      style={{ position: 'relative' }}\r\n    >\r\n      <div className=\"container\">\r\n        <div className=\"item-image-container\"></div>\r\n        <p className=\"item-title\"></p>\r\n        <p className=\"item-price\"></p>\r\n        <p className=\"item-color\"></p>\r\n        <div className=\"item-description\">\r\n          <p className=\"item-description-header\"></p>\r\n          <p className=\"item-description-text\"></p>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default ItemSkeleton;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router';\r\nimport Button from '../../components/Button';\r\nimport { addToCart } from '../../features/cartSlice';\r\nimport { getItemById } from '../../features/selectedItemSlice';\r\nimport ItemSkeleton from './components/ItemSkeleton';\r\nimport './style.scss';\r\n\r\nconst NO_VALUE = 'no value';\r\n\r\nconst Item = () => {\r\n  const selectedSize = useRef(NO_VALUE);\r\n  const [sizeError, setSizeError] = useState(false);\r\n  const [addedToCart, setAddedToCart] = useState(false);\r\n\r\n  const urlSearch = useParams();\r\n  const itemId = urlSearch.id;\r\n\r\n  const dispatch = useDispatch();\r\n  const item = useSelector((state) => state.selectedItem.value);\r\n  const isLoading = useSelector((state) => state.selectedItem.isLoading);\r\n\r\n  useEffect(() => {\r\n    dispatch(getItemById(itemId));\r\n  }, [dispatch, itemId]);\r\n\r\n  if (isLoading) {\r\n    return <ItemSkeleton />;\r\n  }\r\n\r\n  if (!item || !item.title) {\r\n    return (\r\n      <main style={{ position: 'relative' }}>\r\n        <h1 style={{ fontSize: 20, textAlign: 'center', lineHeight: 10 }}>Item not found</h1>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  const handleSizeChange = (event) => {\r\n    selectedSize.current = event.target.value;\r\n\r\n    if (selectedSize.current !== NO_VALUE) {\r\n      setSizeError(false);\r\n    }\r\n  };\r\n\r\n  const handleAddToCard = () => {\r\n    if (selectedSize.current === NO_VALUE) {\r\n      setSizeError(true);\r\n      setAddedToCart(false);\r\n    } else {\r\n      // add to cart\r\n      dispatch(\r\n        addToCart({\r\n          item: item,\r\n          selectedSize: selectedSize.current,\r\n        })\r\n      );\r\n\r\n      // display notification, added to cart\r\n      setAddedToCart((oldState) => (oldState ? 'more' : true));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"item-details\" style={{ position: 'relative' }}>\r\n      <div className=\"container item-image-container\">\r\n        <img src={item.imgUrl} alt={item.title} className=\"item-img\" />\r\n      </div>\r\n      <div className=\"container\">\r\n        <h1 className=\"item-title\">\r\n          {item.brand.name} {item.title}\r\n        </h1>\r\n        <p className=\"item-price\">&#36;{item.price}</p>\r\n        <p className=\"item-color\">\r\n          <strong className=\"letter-spacing\">COLOR:</strong> {item.color}\r\n        </p>\r\n        <div className=\"item-size\">\r\n          {sizeError && <p className=\"item-size-error\">Please select size</p>}\r\n          <p>\r\n            <strong className=\"letter-spacing\">SIZE:</strong>\r\n            <select name=\"sizes\" id=\"sizes\" onChange={handleSizeChange}>\r\n              <option defaultValue value={NO_VALUE}>\r\n                select size\r\n              </option>\r\n              {item.sizes.map((size, index) => (\r\n                <option value={size} key={`size-option-${index}`}>\r\n                  {size}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </p>\r\n        </div>\r\n        <div className=\"item-description\">\r\n          <p className=\"item-description-header\">\r\n            <strong className=\"letter-spacing\">Product details</strong>\r\n          </p>\r\n          <p className=\"item-description-text\">{item.description}</p>\r\n        </div>\r\n\r\n        {addedToCart && <div className=\"added-to-cart-notification\">{addedToCart === 'more' ? 'Added more to cart' : 'Added to cart'}</div>}\r\n        <Button onClick={handleAddToCard} block size={'l'} text={addedToCart ? 'ADD MORE' : 'ADD TO CART'} dark />\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { itemsService } from '../services/itemsService';\r\n\r\nexport const getItems = createAsyncThunk('get/items', async (q) => {\r\n  const res = await itemsService.getItems(q);\r\n  return res.data;\r\n});\r\n\r\nexport const getItemsByPage = createAsyncThunk('get/itemsByPage', async (q) => {\r\n  const res = await itemsService.getItems(q);\r\n  return res.data;\r\n});\r\n\r\nconst initialState = {\r\n  value: [],\r\n  noMoreToLoad: false,\r\n};\r\n\r\nexport const shopItemsSlice = createSlice({\r\n  name: 'shopItems',\r\n  initialState,\r\n  reducers: {\r\n    resetState: (state, action) => {\r\n      state.value = [];\r\n      state.shopTitle = '';\r\n      state.noMoreToLoad = false;\r\n      state.filterFields = [];\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [getItems.pending]: (state, action) => {\r\n      state.isLoading = true;\r\n    },\r\n    [getItems.fulfilled]: (state, action) => {\r\n      state.value = action.payload.items;\r\n      state.noMoreToLoad = action.payload.nbHits < 10;\r\n      state.filterFields = action.payload.filterFields;\r\n      state.isLoading = false;\r\n      state.shopTitle = action.payload.shopTitle;\r\n    },\r\n    [getItems.rejected]: (state, action) => {\r\n      state.value = [];\r\n      state.isLoading = false;\r\n      state.shopTitle = '';\r\n    },\r\n\r\n    [getItemsByPage.pending]: (state, action) => {\r\n      state.isLoading = true;\r\n    },\r\n    [getItemsByPage.fulfilled]: (state, action) => {\r\n      state.value = [...state.value, ...action.payload.items];\r\n      state.filterFields = action.payload.filterFields;\r\n      state.noMoreToLoad = action.payload.nbHits < 10;\r\n      state.isLoading = false;\r\n      state.shopTitle = action.payload.shopTitle;\r\n    },\r\n    [getItemsByPage.rejected]: (state, action) => {\r\n      state.value = [];\r\n      state.isLoading = false;\r\n      state.shopTitle = '';\r\n    },\r\n  },\r\n});\r\n\r\nexport const { resetState } = shopItemsSlice.actions;\r\n\r\nexport default shopItemsSlice.reducer;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './ShopItemCard.scss';\r\n\r\nconst ShopItemCard = ({ id, imgUrl, title, color, price }) => {\r\n  const [isImgLoaded, setIsImgLoaded] = useState(false);\r\n\r\n  return (\r\n    <Link to={`/item/${id}`} key={id} className=\"item-card\">\r\n      <div className=\"item-card-image-container\">\r\n        <img\r\n          src={imgUrl}\r\n          alt={title}\r\n          className={`${isImgLoaded ? '' : 'img-loading'}`}\r\n          onLoad={() => setIsImgLoaded(true)}\r\n        />\r\n      </div>\r\n      <h3 className=\"item-card-title\">{title}</h3>\r\n      <p className=\"item-card-color\">{color}</p>\r\n      <p className=\"item-card-price\">&#36;{price}</p>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ShopItemCard;\r\n","import React from 'react';\r\nimport './ShopItemCard.scss';\r\n\r\nconst ShopItemCardSkeleton = () => {\r\n  return (\r\n    <div className=\"item-card item-card-loading\">\r\n      <div className=\"item-card-image-container\"></div>\r\n      <p className=\"item-card-title\"></p>\r\n      <p className=\"item-card-color\"></p>\r\n      <p className=\"item-card-price\"></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShopItemCardSkeleton;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { VscClose } from 'react-icons/vsc';\r\nimport './FilterModal.scss';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { v4 as uuid } from 'uuid';\r\nimport queryString from 'query-string';\r\n\r\nconst FilterModal = ({ closeModal, options, updateFilterOptions }) => {\r\n  const [filterOptions, setFilterOptions] = useState({});\r\n  const { search } = useLocation();\r\n\r\n  useEffect(() => {\r\n    let updatedOptions = {};\r\n    for (let [k, v] of Object.entries(options)) {\r\n      for (let i = 0; i < v.length; i++) {\r\n        // eslint-disable-next-line no-unused-vars\r\n        for (let [k2, v2] of Object.entries(queryString.parse(search))) {\r\n          v2 = v2.split(',');\r\n          if (v2.includes(v[i].id || v[i].name)) {\r\n            console.log(v2);\r\n            const newV = [...v];\r\n            newV[i] = { ...v[i], checked: true };\r\n            v = [...newV];\r\n          }\r\n        }\r\n      }\r\n      updatedOptions[k] = {\r\n        show: false,\r\n        value: v,\r\n        checked: search.includes(v.name || v.id),\r\n      };\r\n    }\r\n    setFilterOptions(updatedOptions);\r\n  }, [options, search]);\r\n\r\n  const toggleShowFilterOptions = (key) => {\r\n    // update item by key\r\n    const newState = {\r\n      ...filterOptions,\r\n      [key]: { ...filterOptions[key], show: !filterOptions[key].show },\r\n    };\r\n    setFilterOptions(newState);\r\n  };\r\n\r\n  const getAllCheckedByKey = (stateByKey) => {\r\n    const values = stateByKey.value;\r\n    let checkedValues = values.filter((v) => v.checked);\r\n    let queryArray = checkedValues.map((v) => v.id || v.name);\r\n    return queryArray.join(',');\r\n  };\r\n\r\n  const toggleFilterOption = (key, index) => {\r\n    const newState = {\r\n      ...filterOptions,\r\n    };\r\n\r\n    const newValue = [...newState[key].value];\r\n    newValue[index] = { ...newValue[index], checked: !newValue[index].checked };\r\n\r\n    newState[key] = {\r\n      ...newState[key],\r\n      value: [...newValue],\r\n    };\r\n\r\n    updateFilterOptions({\r\n      colors: getAllCheckedByKey(newState['colors']),\r\n      brandIds: getAllCheckedByKey(newState['brands']),\r\n      categoryIds: getAllCheckedByKey(newState['categories']),\r\n      sizes: getAllCheckedByKey(newState['sizes']),\r\n    });\r\n\r\n    setFilterOptions(newState);\r\n  };\r\n\r\n  return (\r\n    <div className=\"filter-modal\">\r\n      <section onClick={closeModal} className=\"close-modal\">\r\n        <VscClose className=\"close-icon\" />\r\n      </section>\r\n      <section className=\"modal-content\">\r\n        <header className=\"modal-title\">\r\n          <h2 className=\"letter-spacing\">FILTER</h2>\r\n        </header>\r\n        <section className=\"filter-options-container\">\r\n          {Object.entries(filterOptions).map(([k, v]) => (\r\n            <div key={uuid()} className=\"filter-option-container\">\r\n              <p\r\n                onClick={() => toggleShowFilterOptions(k)}\r\n                className=\"filter-option-title\"\r\n              >\r\n                {k}\r\n              </p>\r\n              <div\r\n                className=\"filter-options\"\r\n                style={v.show ? {} : { display: 'none' }}\r\n              >\r\n                {v.value.map((arrValue, index) => (\r\n                  <p\r\n                    key={uuid()}\r\n                    onClick={() => toggleFilterOption(k, index)}\r\n                    className={`filter-option ${\r\n                      arrValue.checked ? 'filter-option-checked' : ''\r\n                    }`}\r\n                  >\r\n                    <span>{arrValue.name}</span>\r\n                    {arrValue.checked && <span></span>}\r\n                  </p>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </section>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterModal;\r\n","import './style.scss';\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getItems, getItemsByPage, resetState } from '../../features/shopItemsSlice';\r\nimport { SORT_OPTIONS } from '../../utils/constants';\r\nimport Button from '../../components/Button';\r\nimport ShopItemCard from '../../components/ShopItemCard';\r\nimport ShopItemCardSkeleton from '../../components/ShopItemCardSkeleton';\r\nimport queryString from 'query-string';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport { v4 as uuid } from 'uuid';\r\nimport FilterModal from './components/FilterModal';\r\n\r\nconst Shop = () => {\r\n  const shopItems = useSelector((state) => state.shopItems.value);\r\n  const filterFields = useSelector((state) => state.shopItems.filterFields);\r\n  const isLoading = useSelector((state) => state.shopItems.isLoading);\r\n  const shopTitle = useSelector((state) => state.shopItems.shopTitle);\r\n  const noMoreToLoad = useSelector((state) => state.shopItems.noMoreToLoad);\r\n  const dispatch = useDispatch();\r\n\r\n  const history = useHistory();\r\n  const { search } = useLocation();\r\n\r\n  const page = useRef(1);\r\n  const [query, setQuery] = useState(queryString.parse(search));\r\n  const [isFilterModalOpen, setIsFilterModalOpen] = useState(false);\r\n  const [sortOption, setSortOption] = useState(SORT_OPTIONS.none.param);\r\n  const [filterOptions, setFilterOptions] = useState({});\r\n\r\n  const getDefaultUrlParams = useCallback(() => {\r\n    const queryObj = {};\r\n\r\n    queryObj.shopTitle = true;\r\n    queryObj.filterFields = true;\r\n    queryObj.page = 1;\r\n\r\n    return queryObj;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    page.current = 1;\r\n    let queryObj = queryString.parse(search);\r\n    console.log(queryObj);\r\n    setSortOption(queryObj.sort || SORT_OPTIONS.none.param);\r\n\r\n    // default params for api call\r\n    queryObj = { ...queryObj, ...getDefaultUrlParams() };\r\n\r\n    const q = Object.entries(queryObj)\r\n      .map(([key, value]) => `${key}=${value}`)\r\n      .join('&');\r\n\r\n    // make api req\r\n    dispatch(getItems(q));\r\n\r\n    return () => {\r\n      dispatch(resetState());\r\n    };\r\n  }, [dispatch, getDefaultUrlParams, search]);\r\n\r\n  useEffect(() => {\r\n    const searchQuery = Object.entries(query)\r\n      .map((val) => (val[1] ? `${val[0]}=${val[1]}` : null))\r\n      .filter((val) => val !== null)\r\n      .join('&');\r\n\r\n    const newUrl = `/shop?${searchQuery}`;\r\n    if (searchQuery && !(Object.values(query).length === 1 && (query.categoryIds || query.brandIds))) {\r\n      history.push(newUrl);\r\n    }\r\n  }, [history, query]);\r\n\r\n  useEffect(() => {\r\n    const newFilterOptions = {};\r\n    for (const [k, v] of Object.entries(filterOptions)) {\r\n      if (v) {\r\n        newFilterOptions[k] = v;\r\n      } else {\r\n        newFilterOptions[k] = null;\r\n      }\r\n    }\r\n    setQuery((old) => ({ ...old, ...newFilterOptions }));\r\n  }, [filterOptions]);\r\n\r\n  const handleSortSelect = (event) => {\r\n    setSortOption(event.target.value);\r\n    // set url to sort\r\n    const selectedOption = event.target.value;\r\n    if (selectedOption === SORT_OPTIONS.asc.param || selectedOption === SORT_OPTIONS.desc.param) {\r\n      setQuery((old) => ({\r\n        ...old,\r\n        sort: selectedOption,\r\n      }));\r\n    } else {\r\n      setQuery((old) => ({ ...old, sort: 'none' }));\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    page.current = page.current + 1;\r\n\r\n    let queryObj = queryString.parse(search);\r\n    queryObj = { ...queryObj, ...getDefaultUrlParams(), page: page.current };\r\n    const q = Object.entries(queryObj)\r\n      .map(([key, value]) => `${key}=${value}`)\r\n      .join('&');\r\n\r\n    dispatch(getItemsByPage(q));\r\n  };\r\n\r\n  const showFilterModal = () => {\r\n    setIsFilterModalOpen(true);\r\n  };\r\n\r\n  return (\r\n    <main className={isFilterModalOpen ? 'modal-open' : ''}>\r\n      {isFilterModalOpen && (\r\n        <FilterModal options={filterFields} closeModal={() => setIsFilterModalOpen(false)} updateFilterOptions={setFilterOptions} />\r\n      )}\r\n      <header className=\"header\">\r\n        <div className=\"container\">\r\n          <h1 className=\"title\">{shopTitle}</h1>\r\n        </div>\r\n        <div className=\"filter-sort-section\">\r\n          <div className=\"sort\">\r\n            <select name=\"sort\" value={sortOption} onChange={handleSortSelect}>\r\n              {Object.keys(SORT_OPTIONS).map((key) => (\r\n                <option key={`sort-option-${key}`} value={SORT_OPTIONS[key].param}>\r\n                  {SORT_OPTIONS[key].text}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <button\r\n            // disabled={shopItems.length === 0}\r\n            onClick={showFilterModal}\r\n            className=\"filter\"\r\n          >\r\n            Filter\r\n          </button>\r\n        </div>\r\n      </header>\r\n      <section className=\"items\">\r\n        <div className=\"container\">\r\n          <p className=\"items-found\">{!isLoading && shopItems.length === 0 && '0 items found'}</p>\r\n          <div className=\"item-cards-container\">\r\n            {isLoading ? (\r\n              <>\r\n                <ShopItemCardSkeleton />\r\n                <ShopItemCardSkeleton />\r\n                <ShopItemCardSkeleton />\r\n                <ShopItemCardSkeleton />\r\n                <ShopItemCardSkeleton />\r\n                <ShopItemCardSkeleton />\r\n                <ShopItemCardSkeleton />\r\n                <ShopItemCardSkeleton />\r\n              </>\r\n            ) : (\r\n              shopItems.map((item) => (\r\n                <ShopItemCard\r\n                  id={item._id}\r\n                  key={item._id + uuid()}\r\n                  color={item.color}\r\n                  imgUrl={item.imgUrl}\r\n                  price={item.price}\r\n                  title={item.brandName + ' ' + item.title}\r\n                />\r\n              ))\r\n            )}\r\n          </div>\r\n          <div className=\"load-more-btn\">\r\n            {noMoreToLoad ? (\r\n              shopItems.length > 0 && <p>{shopItems.length} items above</p>\r\n            ) : (\r\n              <Button loading={isLoading} onClick={loadMore} text=\"LOAD MORE\" size=\"l\" />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport Footer from './components/Footer';\r\nimport Navbar from './components/Navbar';\r\nimport Cart from './pages/Cart';\r\nimport Checkout from './pages/Checkout';\r\nimport { HomePage } from './pages/Home';\r\nimport Item from './pages/Item';\r\nimport Shop from './pages/Shop';\r\n\r\nconst App = () => (\r\n  <BrowserRouter>\r\n    <div className=\"app\">\r\n      <Navbar />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={HomePage} />\r\n        <Route exact path=\"/cart\">\r\n          <Cart />\r\n        </Route>\r\n        <Route exact path=\"/checkout\">\r\n          <Checkout />\r\n        </Route>\r\n        <Route path=\"/item/:id\">\r\n          <Item />\r\n        </Route>\r\n        <Route path=\"/shop\">\r\n          <Shop />\r\n        </Route>\r\n      </Switch>\r\n      <Footer />\r\n    </div>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport cartReducer from '../features/cartSlice';\r\nimport brandsReducer from '../features/brandsSlice';\r\nimport categoriesReducer from '../features/categoriesSlice';\r\nimport shopItemsReducer from '../features/shopItemsSlice';\r\nimport selectedItemReducer from '../features/selectedItemSlice';\r\nimport checkoutReducer from '../features/checkoutSlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    cart: cartReducer,\r\n    brands: brandsReducer,\r\n    categories: categoriesReducer,\r\n    shopItems: shopItemsReducer,\r\n    selectedItem: selectedItemReducer,\r\n    checkout: checkoutReducer,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport { store } from './app/store';\r\nimport './index.scss';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","import { BASE_URL } from '../utils/constants';\r\nimport axios from 'axios';\r\n\r\nconst defaultOptions = {\r\n  baseURL: BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n};\r\n\r\nconst instance = axios.create(defaultOptions);\r\n\r\nconst get = (url) => instance.get(url);\r\n\r\nconst post = (url, body) => instance.post(url, body);\r\n\r\nexport const request = {\r\n  get,\r\n  post,\r\n};\r\n","export const DELIEVERY_PRICE = 9.99;\r\n\r\nexport const SORT_OPTIONS = {\r\n  none: {\r\n    param: 'none',\r\n    text: 'sort',\r\n  },\r\n  asc: {\r\n    param: 'price',\r\n    text: 'price asc',\r\n  },\r\n  desc: {\r\n    param: '-price',\r\n    text: 'price desc',\r\n  },\r\n};\r\n\r\nexport const BASE_URL = 'https://step-project-ecomm-back-end.herokuapp.com/api/v1'; //'http://localhost:5000/api/v1';\r\n\r\nexport const REDUX_STATUS = {\r\n  IDLE: 'idle',\r\n  SUCCESS: 'success',\r\n  LOADING: 'loading',\r\n  ERROR: 'error',\r\n};\r\n"],"sourceRoot":""}