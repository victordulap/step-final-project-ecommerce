(this["webpackJsonpclothing-ecommerce"]=this["webpackJsonpclothing-ecommerce"]||[]).push([[0],{106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},190:function(e,t,c){},191:function(e,t,c){},192:function(e,t,c){},207:function(e,t,c){},208:function(e,t,c){},209:function(e,t,c){"use strict";c.r(t);var a,n,r,s=c(2),i=c(34),o=c.n(i),l=c(9),j=c(13),d=c(10),u=(c(81),c(1)),b=function(){return Object(u.jsx)("footer",{className:"footer",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," VD Clothes"]}),Object(u.jsx)(j.b,{to:"/",children:"Home"})]})})},m=c(12),O=c.n(m),h=c(18),p=c(5),x=(c(86),c(22)),f=(c(87),function(e){var t=e.searchSuggestions,c=e.closeModal,a=e.searchCallback,n=e.afterMs,r=Object(s.useState)(""),i=Object(p.a)(r,2),o=i[0],l=i[1];return Object(s.useEffect)((function(){var e=setTimeout((function(){a(o)}),n);return function(){return clearTimeout(e)}}),[o,a,n]),Object(s.useEffect)((function(){console.log("search suggestions: ",t)}),[t]),Object(u.jsxs)("div",{className:"search-bar-container",children:[Object(u.jsxs)("div",{className:"search-bar",children:[Object(u.jsx)("input",{type:"text",name:"search",id:"search",placeholder:"Search for items",value:o,onChange:function(e){return l(e.target.value)},autoFocus:!0}),Object(u.jsx)("button",{className:"search-icon",children:Object(u.jsx)(x.b,{className:"icon"})})]}),Object(u.jsx)("div",{className:"search-bar-suggestions",children:null===t?"":(t&&t.length)>0?t.map((function(e){return Object(u.jsxs)(j.b,{onClick:c,className:"search-suggestion",to:"/item/".concat(e._id),children:[e.brandName," ",e.title," (",e.color,")"]},"search-suggestion-".concat(e._id))})):Object(u.jsx)("div",{className:"search-suggestion",children:"no items found"})})]})}),v=c(7).BASE_URL,g=c(26).request,N=function(e){return g.get("".concat(v,"/items?search=").concat(e,"&fields=_id,title,color,brandName"))},y=function(){var e=Object(s.useState)(!1),t=Object(p.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(null),r=Object(p.a)(n,2),i=r[0],o=r[1],l=Object(s.useCallback)(function(){var e=Object(h.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>1)){e.next=8;break}return e.next=3,N(t);case 3:c=e.sent,console.log(c.data.items),o(c.data.items),e.next=9;break;case 8:o(null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(u.jsxs)("nav",{className:"navbar",children:[Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(j.b,{to:"/",className:"logo",children:"VD Clothes"}),Object(u.jsxs)("div",{className:"icons",children:[Object(u.jsx)(x.b,{className:"icon",onClick:function(){return a(!0)}}),Object(u.jsx)(j.b,{to:"/cart",children:Object(u.jsx)(x.c,{className:"icon"})})]})]}),c&&Object(u.jsxs)("div",{className:"search-modal",children:[Object(u.jsx)("button",{className:"close-modal",onClick:function(){return a(!1)},children:Object(u.jsx)(x.a,{})}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)(f,{searchSuggestions:i,searchCallback:l,afterMs:1e3,closeModal:function(){a(!1),o(null)}})})]})]})},S=c(4),k=c(73),C=(c(106),c(21)),T=["s","m","l"],E=function(e){var t=e.text,c=e.size,a=e.dark,n=e.linkTo,r=e.routeTo,s=e.onClick,i=e.block,o=e.loading,l=Object(k.a)(e,["text","size","dark","linkTo","routeTo","onClick","block","loading"]);T.includes(c)||(c="m");var d="btn btn-".concat(c," ").concat(a?"btn-dark":""," ").concat(i?"btn-block":""," ").concat(o?"btn-loading":"");return r?Object(u.jsx)(j.b,Object(S.a)(Object(S.a)({href:r,className:d,onClick:s},l),{},{children:t})):n?Object(u.jsx)("a",Object(S.a)(Object(S.a)({href:n,className:d,onClick:s},l),{},{children:t})):Object(u.jsx)("button",Object(S.a)(Object(S.a)({disabled:o||!1,className:d,onClick:s},l),{},{children:o?Object(u.jsx)(C.c,{className:"loading-icon"}):t}))},I=(c(107),c(7)),R=c(11),L=c(210),F=function(e,t){return e.findIndex((function(e){return e.id===t}))},U=function(e){return e.length>0?e.reduce((function(e,t){return+e+ +t.item.price*t.count}),0):0},_=Object(R.c)({name:"cart",initialState:{value:[],cartTotal:0},reducers:{getCartFromLocalStorage:function(e,t){var c=JSON.parse(localStorage.getItem("vdShopCart"))||[];e.value=c,e.cartTotal=U(e.value)},addToCart:function(e,t){var c=e.value.findIndex((function(e){return e.item.id===t.payload.item.id&&e.selectedSize===t.payload.selectedSize}));c>-1?e.value[c]=Object(S.a)(Object(S.a)({},e.value[c]),{},{item:t.payload.item,selectedSize:t.payload.selectedSize,count:e.value[c].count+1}):e.value.push({id:Object(L.a)(),item:t.payload.item,selectedSize:t.payload.selectedSize,count:1}),e.cartTotal=U(e.value),localStorage.setItem("vdShopCart",JSON.stringify(e.value))},removeFromCart:function(e,t){e.value=e.value.filter((function(e){return e.id!==t.payload.id})),e.cartTotal=U(e.value),localStorage.setItem("vdShopCart",JSON.stringify(e.value))},incrementCount:function(e,t){var c=F(e.value,t.payload.id);e.value[c].count++,e.cartTotal=U(e.value),localStorage.setItem("vdShopCart",JSON.stringify(e.value))},decrementCount:function(e,t){var c=F(e.value,t.payload.id);e.value[c].count--,0===e.value[c].count&&(e.value=e.value.filter((function(e){return e.id!==t.payload.id}))),e.cartTotal=U(e.value),localStorage.setItem("vdShopCart",JSON.stringify(e.value))},clearCart:function(e,t){e.value=[],e.cartTotal=U(e.value),localStorage.setItem("vdShopCart",JSON.stringify(e.value))}}}),D=_.actions,z=D.getCartFromLocalStorage,M=D.addToCart,A=D.removeFromCart,w=D.incrementCount,P=D.decrementCount,Y=D.clearCart,B=_.reducer,q=function(e){var t=e.cartItemId,c=e.itemId,a=e.imgUrl,n=e.title,r=e.cartItemPrice,i=e.color,o=e.selectedSize,l=e.count,d=e.decrementCallback,b=e.incrementCallback,m=e.removeCallback,O=Object(s.useState)(!1),h=Object(p.a)(O,2),x=h[0],f=h[1];return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsx)(j.b,{to:"/item/".concat(c),className:"cart-item-img-container",children:Object(u.jsx)("img",{src:a,alt:n,className:"".concat(x?"":"img-loading"),onLoad:function(){return f(!0)}})}),Object(u.jsxs)("div",{className:"cart-item-info-container",children:[Object(u.jsx)("p",{className:"cart-item-price",children:Object(u.jsxs)("strong",{children:["$",r]})}),Object(u.jsx)("p",{className:"cart-item-title",children:n}),Object(u.jsxs)("div",{className:"cart-item-info",children:[Object(u.jsx)("p",{className:"cart-item-color",children:i}),Object(u.jsx)("p",{className:"cart-item-size",children:o}),Object(u.jsxs)("div",{className:"cart-item-quantity",children:[Object(u.jsx)("div",{className:"cart-item-quantity-change",children:Object(u.jsx)("button",{onClick:function(){return d()},children:"-"})}),Object(u.jsxs)("p",{children:["Qty: ",l]}),Object(u.jsx)("div",{className:"cart-item-quantity-change",children:Object(u.jsx)("button",{onClick:function(){return b()},children:"+"})})]})]})]}),Object(u.jsx)("div",{className:"cart-item-remove",children:Object(u.jsx)("button",{onClick:function(){return m()},children:Object(u.jsx)(C.d,{className:"cart-item-remove-icon"})})})]},t)},J=(c(108),function(e){var t=e.text;return Object(u.jsxs)("div",{className:"cart-empty-container",children:[Object(u.jsx)("div",{children:Object(u.jsx)(x.c,{className:"cart-empty-icon"})}),Object(u.jsx)("p",{children:t||"Your cart is empty"}),Object(u.jsx)(E,{linkTo:"/",size:"l",text:"Go shopping"})]})}),V=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.cart.value})),c=Object(l.c)((function(e){return e.cart.cartTotal}));return Object(s.useEffect)((function(){e(z())}),[e]),Object(u.jsx)("main",{className:"cart",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("section",{className:"header",children:Object(u.jsx)("h1",{className:"letter-spacing",children:"my bag"})}),t.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("section",{className:"cart-items",children:t.map((function(t){return Object(u.jsx)(q,{cartItemId:t.id,itemId:t.item._id,imgUrl:t.item.imgUrl,title:t.item.brand.name+" "+t.item.title,cartItemPrice:(t.item.price*t.count).toFixed(2),color:t.item.color,selectedSize:t.selectedSize,count:t.count,decrementCallback:function(){return e(P({id:t.id}))},incrementCallback:function(){return e(w({id:t.id}))},removeCallback:function(){e(A({id:t.id}))}},t.id)}))}),Object(u.jsx)("section",{className:"total",children:Object(u.jsx)("p",{children:Object(u.jsxs)("strong",{children:[Object(u.jsx)("span",{className:"letter-spacing",children:"sub-total:"})," $",c.toFixed(2)]})})}),Object(u.jsxs)("section",{className:"checkout",children:[Object(u.jsx)("h2",{className:"letter-spacing",children:Object(u.jsxs)("strong",{children:["total: $",(c+I.DELIEVERY_PRICE).toFixed(2)]})}),Object(u.jsxs)("div",{className:"checkout-price",children:[Object(u.jsx)("p",{className:"letter-spacing",children:Object(u.jsx)("strong",{children:"sub-total"})}),Object(u.jsxs)("p",{className:"price",children:["$",c.toFixed(2)]})]}),Object(u.jsxs)("div",{className:"checkout-price",children:[Object(u.jsx)("p",{className:"letter-spacing",children:Object(u.jsx)("strong",{children:"delievery"})}),Object(u.jsxs)("p",{className:"price",children:["$",I.DELIEVERY_PRICE.toFixed(2)]})]}),Object(u.jsx)("div",{className:"checkout-btn\r ",children:Object(u.jsx)(E,{dark:!0,size:"l",block:!0,text:"CHECKOUT",disabled:c<=0,linkTo:"/checkout"})})]})]}):Object(u.jsx)("section",{className:"empty-cart",children:Object(u.jsx)(J,{})})]})})},X=c(6),$=(c(109),c(44)),H=c.n($),Q=c(7).BASE_URL,G=c(26).request,W=function(){return G.get("".concat(Q,"/categories"))},K=c(7).BASE_URL,Z=c(26).request,ee=function(e){return Z.post("".concat(K,"/orders"),e)},te=Object(R.b)("get/allCategories",function(){var e=Object(h.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ce={status:I.REDUX_STATUS.IDLE},ae=Object(R.c)({name:"categories",initialState:ce,reducers:{},extraReducers:(a={},Object(X.a)(a,te.pending,(function(e,t){e.status=I.REDUX_STATUS.LOADING})),Object(X.a)(a,te.fulfilled,(function(e,t){e.status=I.REDUX_STATUS.SUCCESS})),Object(X.a)(a,te.rejected,(function(e,t){e.status=I.REDUX_STATUS.ERROR})),a)}).reducer,ne=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.cart.value})),c=Object(l.c)((function(e){return e.cart.cartTotal})),a=Object(l.c)((function(e){return e.checkout.status}));Object(s.useEffect)((function(){e(z())}),[e]);var n=Object(s.useState)(!1),r=Object(p.a)(n,2),i=r[0],o=r[1],j=Object(s.useState)(!1),d=Object(p.a)(j,2),b=d[0],m=d[1],O=Object(s.useRef)("form"),h=Object(s.useState)({}),x=Object(p.a)(h,2),f=x[0],v=x[1],g={cardNumber:"cardNumber",expiryMonth:"expiryMonth",expiryYear:"expiryYear",nameOnCard:"nameOnCard",cvv:"cvv",email:"email",firstName:"firstName",lastName:"lastName",mobile:"mobile",country:"country",city:"city",address:"address",postcode:"postcode"},N=[{label:"card number",key:g.cardNumber,component:Object(u.jsxs)(u.Fragment,{children:[f[g.cardNumber]&&Object(u.jsx)("p",{className:"input-error",children:f[g.cardNumber]}),Object(u.jsx)("input",{className:f[g.cardNumber]?"error-border":"",placeholder:"4012 8888 8888 1881",type:"text",name:g.cardNumber})]})},{label:"expiry date",key:"expiryDate",component:Object(u.jsxs)(u.Fragment,{children:[(f[g.expiryMonth]||f[g.expiryYear])&&Object(u.jsx)("p",{className:"input-error",children:f[g.expiryMonth]||f[g.expiryYear]}),Object(u.jsxs)("div",{className:"split-inputs",children:[Object(u.jsx)("input",{className:f[g.expiryMonth]?"error-border":"",type:"number",name:g.expiryMonth,placeholder:"Month",min:1,max:12}),Object(u.jsx)("input",{className:f[g.expiryYear]?"error-border":"",type:"number",name:g.expiryYear,placeholder:"Year",min:(new Date).getFullYear(),max:(new Date).getFullYear()+10})]})]})},{label:"name on card",key:g.nameOnCard,component:Object(u.jsxs)(u.Fragment,{children:[f[g.nameOnCard]&&Object(u.jsx)("p",{className:"input-error",children:f[g.nameOnCard]}),Object(u.jsx)("input",{className:f[g.nameOnCard]?"error-border":"",type:"text",name:g.nameOnCard})]})},{label:"cvv",key:g.cvv,component:Object(u.jsxs)(u.Fragment,{children:[f[g.cvv]&&Object(u.jsx)("p",{className:"input-error",children:f[g.cvv]}),Object(u.jsx)("input",{className:f[g.cvv]?"error-border":"",type:"password",name:g.cvv,maxLength:3,minLength:3})]})}],y=[{label:"email",key:g.email,component:Object(u.jsxs)(u.Fragment,{children:[f[g.email]&&Object(u.jsx)("p",{className:"input-error",children:f[g.email]}),Object(u.jsx)("input",{className:f[g.email]?"error-border":"",type:"email",name:g.email})]})},{label:"first name",key:g.firstName,component:Object(u.jsxs)(u.Fragment,{children:[f[g.firstName]&&Object(u.jsx)("p",{className:"input-error",children:f[g.firstName]}),Object(u.jsx)("input",{className:f[g.firstName]?"error-border":"",type:"text",name:g.firstName})]})},{label:"last name",key:g.lastName,component:Object(u.jsxs)(u.Fragment,{children:[f[g.lastName]&&Object(u.jsx)("p",{className:"input-error",children:f[g.lastName]}),Object(u.jsx)("input",{type:"text",name:g.lastName,className:f[g.lastName]?"error-border":""})]})},{label:"mobile",key:g.mobile,component:Object(u.jsxs)(u.Fragment,{children:[f[g.mobile]&&Object(u.jsx)("p",{className:"input-error",children:f[g.mobile]}),Object(u.jsx)("input",{type:"tel",name:g.mobile,placeholder:"+373 781 201 29",className:f[g.mobile]?"error-border":""})]})},{label:"country",key:g.country,component:Object(u.jsxs)(u.Fragment,{children:[f[g.country]&&Object(u.jsx)("p",{className:"input-error",children:f[g.country]}),Object(u.jsx)("input",{className:f[g.country]?"error-border":"",type:"text",name:g.country})]})},{label:"city",key:g.city,component:Object(u.jsxs)(u.Fragment,{children:[f[g.city]&&Object(u.jsx)("p",{className:"input-error",children:f[g.city]}),Object(u.jsx)("input",{className:f[g.city]?"error-border":"",type:"text",name:g.city})]})},{label:"address",key:g.address,component:Object(u.jsxs)(u.Fragment,{children:[f[g.address]&&Object(u.jsx)("p",{className:"input-error",children:f[g.address]}),Object(u.jsx)("input",{className:f[g.address]?"error-border":"",type:"text",name:g.address})]})},{label:"postcode",key:g.postcode,component:Object(u.jsxs)(u.Fragment,{children:[f[g.postcode]&&Object(u.jsx)("p",{className:"input-error",children:f[g.postcode]}),Object(u.jsx)("input",{className:f[g.postcode]?"error-border":"",type:"text",name:g.postcode})]})}],k=function(a){a.preventDefault(),v({});var n=function(e){for(var t=!0,c=function(){var c=Object(p.a)(n[a],1)[0];e[c]&&e[c].value&&""!==e[c].value?c===g.cardNumber?t&&(H.a.isCreditCard(e[c].value)||(v((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(X.a)({},c,"card is invalid"))})),t=!1)):c===g.email&&t&&(H.a.isEmail(e[c].value)||(v((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(X.a)({},c,"email is invalid"))})),t=!1)):(v((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(X.a)({},c,"field is required"))})),t&&(t=!1))},a=0,n=Object.entries(g);a<n.length;a++)c();return t}(a.target);if(n){var r=function(e){for(var t={},c=0,a=Object.entries(g);c<a.length;c++){var n=Object(p.a)(a[c],1)[0];t[n]=e[n].value}return t}(a.target),s={firstName:r[g.firstName],lastName:r[g.lastName],email:r[g.email],mobile:r[g.mobile],country:r[g.country],city:r[g.city],address:r[g.address],postcode:r[g.postcode]},i=t.map((function(e){return{itemId:e.item._id,itemName:e.item.brand.name+" "+e.item.title,selectedSize:e.selectedSize,count:e.count,price:e.count*e.item.price}})),o=c+I.DELIEVERY_PRICE;console.log(JSON.stringify(i)),e(te({shippingDetails:s,cart:i,total:o,paymentStatusSuccess:!0}))}console.log("formCompletedSuccessfully: ",n)};return Object(s.useEffect)((function(){a===I.REDUX_STATUS.SUCCESS&&e(Y())}),[a,e]),a===I.REDUX_STATUS.SUCCESS?Object(u.jsx)("main",{className:"checkout",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("section",{className:"header",children:Object(u.jsx)("h1",{className:"letter-spacing",children:"thanks for ordering"})}),Object(u.jsxs)("section",{style:{textAlign:"center"},children:[Object(u.jsx)("p",{style:{fontSize:"1.4em",paddingBottom:"1em"},children:"We've sent you a email with your order!"}),Object(u.jsx)(E,{linkTo:"/",size:"l",text:"MORE ITEMS"})]})]})}):a===I.REDUX_STATUS.ERROR?Object(u.jsx)("main",{className:"checkout",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("section",{className:"header",children:Object(u.jsx)("h1",{className:"letter-spacing",children:"oops!"})}),Object(u.jsx)("section",{className:"checkout-error",children:Object(u.jsx)("p",{className:"letter-spacing",children:"something strange occured, try again later"})})]})}):Object(u.jsx)("main",{className:"checkout",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("section",{className:"header",children:Object(u.jsx)("h1",{className:"letter-spacing",children:"checkout"})}),t.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("section",{className:"total",children:[Object(u.jsxs)("p",{children:["items: ",t.length]}),Object(u.jsxs)("p",{children:["total: ",(c+I.DELIEVERY_PRICE).toFixed(2),"$"]})]}),Object(u.jsxs)("form",{ref:O,onSubmit:k,children:[Object(u.jsxs)("section",{className:"form-section shipping-address",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)("h2",{className:"form-title letter-spacing",children:"shipping details"}),b?Object(u.jsx)(C.a,{className:"toggle-form",onClick:function(){return m(!1)}}):Object(u.jsx)(C.b,{className:"toggle-form",onClick:function(){return m(!0)}})]}),y.map((function(e){return Object(u.jsxs)("div",{style:b?{display:"none"}:{},className:"form-item",children:[Object(u.jsxs)("label",{htmlFor:e.key,children:[e.label," :"]}),e.component]},"form-item-ship-".concat(e.key))}))]}),Object(u.jsxs)("section",{className:"form-section payment-details",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)("h2",{className:"form-title letter-spacing",children:"payment details"}),i?Object(u.jsx)(C.a,{className:"toggle-form",onClick:function(){return o(!1)}}):Object(u.jsx)(C.b,{className:"toggle-form",onClick:function(){return o(!0)}})]}),N.map((function(e){return Object(u.jsxs)("div",{style:i?{display:"none"}:{},className:"form-item",children:[Object(u.jsxs)("label",{className:"letter-spacing",htmlFor:e.key,children:[e.label," :"]}),e.component]},"form-item-pay-".concat(e.key))}))]}),Object(u.jsx)("section",{className:"submit-form",children:Object(u.jsx)(E,{loading:a===I.REDUX_STATUS.LOADING,text:"PLACE ORDER",onSubmit:k,type:"submit"})})]})]}):Object(u.jsx)("section",{children:Object(u.jsx)(J,{})})]})})},re=(c(190),c(66),function(e){e.title;var t=e.id,c=e.darkMode,a=e.imgUrl,n=e.text,r=e.linkQuery,i=Object(s.useState)(!1),o=Object(p.a)(i,2),l=o[0],d=o[1];return Object(u.jsxs)(j.b,{to:{pathname:"/shop",search:"".concat(r,"=").concat(t)},className:"card ".concat(c?"card-dark":""),children:[Object(u.jsx)("main",{className:"card-image-container",children:Object(u.jsx)("img",{src:a,alt:n,className:"".concat(l?"":"img-loading"),onLoad:function(){return d(!0)}})}),Object(u.jsx)("footer",{className:"card-text",children:n})]})}),se=(c(191),function(e){var t=e.darkMode;return Object(u.jsxs)("div",{className:"card card-skeleton ".concat(t?"card-dark":""),children:[Object(u.jsx)("main",{className:"card-image-container"}),Object(u.jsx)("footer",{className:"card-text"})]})}),ie=function(e){var t=e.cardsData,c=e.title,a=e.isLoading,n=void 0===a||a,r=e.darkCards,s=e.linkQuery;return Object(u.jsx)("div",{children:Object(u.jsxs)("section",{className:"cards",id:c,children:[Object(u.jsx)("h2",{children:c}),Object(u.jsx)("div",{className:"cards-container",children:n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(se,{darkMode:r},Object(L.a)()),Object(u.jsx)(se,{darkMode:r},Object(L.a)()),Object(u.jsx)(se,{darkMode:r},Object(L.a)()),Object(u.jsx)(se,{darkMode:r},Object(L.a)())]}):t&&t.length>0&&t.map((function(e){return Object(u.jsx)(re,{darkMode:r,id:e._id,imgUrl:e.imgUrl,text:e.name,title:c.toLowerCase(),linkQuery:s},e._id)}))})]})})},oe=c(7).BASE_URL,le=c(26).request,je=function(){return le.get("".concat(oe,"/brands"))},de=Object(R.b)("get/allBrands",Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),ue=Object(R.c)({name:"brands",initialState:{value:{brands:[],isLoading:!0}},reducers:{},extraReducers:(n={},Object(X.a)(n,de.pending,(function(e,t){e.isLoading=!0})),Object(X.a)(n,de.fulfilled,(function(e,t){e.value=t.payload.brands,e.isLoading=!1})),Object(X.a)(n,de.rejected,(function(e,t){e.value=[],e.isLoading=!1})),n)}).reducer,be=Object(R.b)("get/allCategories",Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),me=Object(R.c)({name:"categories",initialState:{value:{categories:[],isLoading:!0}},reducers:{},extraReducers:(r={},Object(X.a)(r,be.pending,(function(e,t){e.isLoading=!0})),Object(X.a)(r,be.fulfilled,(function(e,t){e.value=t.payload.categories,e.isLoading=!1})),Object(X.a)(r,be.rejected,(function(e,t){e.value=[],e.isLoading=!1})),r)}).reducer;function Oe(){var e=Object(l.c)((function(e){return e.brands.isLoading})),t=Object(l.c)((function(e){return e.categories.isLoading})),c=Object(l.c)((function(e){return e.brands.value})),a=Object(l.c)((function(e){return e.categories.value})),n=Object(l.b)();return Object(s.useEffect)((function(){n(de()),n(be())}),[n]),Object(u.jsxs)("main",{children:[Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("section",{className:"hero",children:[Object(u.jsx)("h1",{children:"Welcome\xa0to VD\xa0Clothes"}),Object(u.jsx)(E,{text:"SHOP",size:"l",dark:!0,linkTo:"#Categories"})]})}),Object(u.jsx)("div",{className:"categories-wrapper",children:Object(u.jsx)("div",{className:"container container-dark",children:Object(u.jsx)(ie,{isLoading:t,cardsData:a,title:"Categories",darkCards:!0,linkQuery:"categoryIds"},"SimpleCardsContainerCategories-".concat(Object(L.a)()))})}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)(ie,{isLoading:e,cardsData:c,title:"Brands",linkQuery:"brandIds"},"SimpleCardsContainerBrands-".concat(Object(L.a)()))})]})}var he,pe,xe=c(7).BASE_URL,fe=c(26).request,ve=function(e){return fe.get("".concat(xe,"/items?").concat(e))},ge=function(e){return fe.get("".concat(xe,"/items/").concat(e))},Ne=Object(R.b)("get/itemById",function(){var e=Object(h.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ye=Object(R.c)({name:"shopItems",initialState:{value:[]},reducers:{resetState:function(e,t){e.value=[]}},extraReducers:(he={},Object(X.a)(he,Ne.pending,(function(e,t){e.isLoading=!0})),Object(X.a)(he,Ne.fulfilled,(function(e,t){e.value=t.payload.item,e.isLoading=!1})),Object(X.a)(he,Ne.rejected,(function(e,t){e.value={},e.isLoading=!1})),he)}),Se=(ye.actions.resetState,ye.reducer),ke=(c(67),function(){return Object(u.jsx)("main",{className:"item-details item-skeleton",style:{position:"relative"},children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"item-image-container"}),Object(u.jsx)("p",{className:"item-title"}),Object(u.jsx)("p",{className:"item-price"}),Object(u.jsx)("p",{className:"item-color"}),Object(u.jsxs)("div",{className:"item-description",children:[Object(u.jsx)("p",{className:"item-description-header"}),Object(u.jsx)("p",{className:"item-description-text"})]})]})})}),Ce="no value",Te=function(){var e=Object(s.useRef)(Ce),t=Object(s.useState)(!1),c=Object(p.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)(!1),i=Object(p.a)(r,2),o=i[0],j=i[1],b=Object(d.h)().id,m=Object(l.b)(),O=Object(l.c)((function(e){return e.selectedItem.value})),h=Object(l.c)((function(e){return e.selectedItem.isLoading}));if(Object(s.useEffect)((function(){m(Ne(b))}),[m,b]),h)return Object(u.jsx)(ke,{});if(!O||!O.title)return Object(u.jsx)("main",{style:{position:"relative"},children:Object(u.jsx)("h1",{style:{fontSize:20,textAlign:"center",lineHeight:10},children:"Item not found"})});return Object(u.jsxs)("main",{className:"item-details",style:{position:"relative"},children:[Object(u.jsx)("div",{className:"container item-image-container",children:Object(u.jsx)("img",{src:O.imgUrl,alt:O.title,className:"item-img"})}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("h1",{className:"item-title",children:[O.brand.name," ",O.title]}),Object(u.jsxs)("p",{className:"item-price",children:["$",O.price]}),Object(u.jsxs)("p",{className:"item-color",children:[Object(u.jsx)("strong",{className:"letter-spacing",children:"COLOR:"})," ",O.color]}),Object(u.jsxs)("div",{className:"item-size",children:[a&&Object(u.jsx)("p",{className:"item-size-error",children:"Please select size"}),Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{className:"letter-spacing",children:"SIZE:"}),Object(u.jsxs)("select",{name:"sizes",id:"sizes",onChange:function(t){e.current=t.target.value,e.current!==Ce&&n(!1)},children:[Object(u.jsx)("option",{defaultValue:!0,value:Ce,children:"select size"}),O.sizes.map((function(e,t){return Object(u.jsx)("option",{value:e,children:e},"size-option-".concat(t))}))]})]})]}),Object(u.jsxs)("div",{className:"item-description",children:[Object(u.jsx)("p",{className:"item-description-header",children:Object(u.jsx)("strong",{className:"letter-spacing",children:"Product details"})}),Object(u.jsx)("p",{className:"item-description-text",children:O.description})]}),o&&Object(u.jsx)("div",{className:"added-to-cart-notification",children:"more"===o?"Added more to cart":"Added to cart"}),Object(u.jsx)(E,{onClick:function(){e.current===Ce?(n(!0),j(!1)):(m(M({item:O,selectedSize:e.current})),j((function(e){return!e||"more"})))},block:!0,size:"l",text:o?"ADD MORE":"ADD TO CART",dark:!0})]})]})},Ee=(c(192),c(23)),Ie=Object(R.b)("get/items",function(){var e=Object(h.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Re=Object(R.b)("get/itemsByPage",function(){var e=Object(h.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Le=Object(R.c)({name:"shopItems",initialState:{value:[],noMoreToLoad:!1},reducers:{resetState:function(e,t){e.value=[],e.shopTitle="",e.noMoreToLoad=!1,e.filterFields=[]}},extraReducers:(pe={},Object(X.a)(pe,Ie.pending,(function(e,t){e.isLoading=!0})),Object(X.a)(pe,Ie.fulfilled,(function(e,t){e.value=t.payload.items,e.noMoreToLoad=t.payload.nbHits<10,e.filterFields=t.payload.filterFields,e.isLoading=!1,e.shopTitle=t.payload.shopTitle})),Object(X.a)(pe,Ie.rejected,(function(e,t){e.value=[],e.isLoading=!1,e.shopTitle=""})),Object(X.a)(pe,Re.pending,(function(e,t){e.isLoading=!0})),Object(X.a)(pe,Re.fulfilled,(function(e,t){e.value=[].concat(Object(Ee.a)(e.value),Object(Ee.a)(t.payload.items)),e.filterFields=t.payload.filterFields,e.noMoreToLoad=t.payload.nbHits<10,e.isLoading=!1,e.shopTitle=t.payload.shopTitle})),Object(X.a)(pe,Re.rejected,(function(e,t){e.value=[],e.isLoading=!1,e.shopTitle=""})),pe)}),Fe=Le.actions.resetState,Ue=Le.reducer,_e=(c(68),function(e){var t=e.id,c=e.imgUrl,a=e.title,n=e.color,r=e.price,i=Object(s.useState)(!1),o=Object(p.a)(i,2),l=o[0],d=o[1];return Object(u.jsxs)(j.b,{to:"/item/".concat(t),className:"item-card",children:[Object(u.jsx)("div",{className:"item-card-image-container",children:Object(u.jsx)("img",{src:c,alt:a,className:"".concat(l?"":"img-loading"),onLoad:function(){return d(!0)}})}),Object(u.jsx)("h3",{className:"item-card-title",children:a}),Object(u.jsx)("p",{className:"item-card-color",children:n}),Object(u.jsxs)("p",{className:"item-card-price",children:["$",r]})]},t)}),De=function(){return Object(u.jsxs)("div",{className:"item-card item-card-loading",children:[Object(u.jsx)("div",{className:"item-card-image-container"}),Object(u.jsx)("p",{className:"item-card-title"}),Object(u.jsx)("p",{className:"item-card-color"}),Object(u.jsx)("p",{className:"item-card-price"})]})},ze=c(25),Me=c.n(ze),Ae=c(72),we=(c(207),function(e){var t=e.closeModal,c=e.options,a=e.updateFilterOptions,n=Object(s.useState)({}),r=Object(p.a)(n,2),i=r[0],o=r[1],l=Object(d.g)().search;Object(s.useEffect)((function(){for(var e={},t=0,a=Object.entries(c);t<a.length;t++){for(var n=Object(p.a)(a[t],2),r=n[0],s=n[1],i=0;i<s.length;i++)for(var j=0,d=Object.entries(Me.a.parse(l));j<d.length;j++){var u=Object(p.a)(d[j],2),b=(u[0],u[1]);if((b=b.split(",")).includes(s[i].id||s[i].name)){console.log(b);var m=Object(Ee.a)(s);m[i]=Object(S.a)(Object(S.a)({},s[i]),{},{checked:!0}),s=Object(Ee.a)(m)}}e[r]={show:!1,value:s,checked:l.includes(s.name||s.id)}}o(e)}),[c,l]);var j=function(e){return e.value.filter((function(e){return e.checked})).map((function(e){return e.id||e.name})).join(",")};return Object(u.jsxs)("div",{className:"filter-modal",children:[Object(u.jsx)("section",{onClick:t,className:"close-modal",children:Object(u.jsx)(Ae.a,{className:"close-icon"})}),Object(u.jsxs)("section",{className:"modal-content",children:[Object(u.jsx)("header",{className:"modal-title",children:Object(u.jsx)("h2",{className:"letter-spacing",children:"FILTER"})}),Object(u.jsx)("section",{className:"filter-options-container",children:Object.entries(i).map((function(e){var t=Object(p.a)(e,2),c=t[0],n=t[1];return Object(u.jsxs)("div",{className:"filter-option-container",children:[Object(u.jsx)("p",{onClick:function(){return function(e){var t=Object(S.a)(Object(S.a)({},i),{},Object(X.a)({},e,Object(S.a)(Object(S.a)({},i[e]),{},{show:!i[e].show})));o(t)}(c)},className:"filter-option-title",children:c}),Object(u.jsx)("div",{className:"filter-options",style:n.show?{}:{display:"none"},children:n.value.map((function(e,t){return Object(u.jsxs)("p",{onClick:function(){return function(e,t){var c=Object(S.a)({},i),n=Object(Ee.a)(c[e].value);n[t]=Object(S.a)(Object(S.a)({},n[t]),{},{checked:!n[t].checked}),c[e]=Object(S.a)(Object(S.a)({},c[e]),{},{value:Object(Ee.a)(n)}),a({colors:j(c.colors),brandIds:j(c.brands),categoryIds:j(c.categories),sizes:j(c.sizes)}),o(c)}(c,t)},className:"filter-option ".concat(e.checked?"filter-option-checked":""),children:[Object(u.jsx)("span",{children:e.name}),e.checked&&Object(u.jsx)("span",{children:"\u2714"})]},Object(L.a)())}))})]},Object(L.a)())}))})]})]})}),Pe=function(){var e=Object(l.c)((function(e){return e.shopItems.value})),t=Object(l.c)((function(e){return e.shopItems.filterFields})),c=Object(l.c)((function(e){return e.shopItems.isLoading})),a=Object(l.c)((function(e){return e.shopItems.shopTitle})),n=Object(l.c)((function(e){return e.shopItems.noMoreToLoad})),r=Object(l.b)(),i=Object(d.f)(),o=Object(d.g)().search,j=Object(s.useRef)(1),b=Object(s.useState)(Me.a.parse(o)),m=Object(p.a)(b,2),O=m[0],h=m[1],x=Object(s.useState)(!1),f=Object(p.a)(x,2),v=f[0],g=f[1],N=Object(s.useState)(I.SORT_OPTIONS.none.param),y=Object(p.a)(N,2),k=y[0],C=y[1],T=Object(s.useState)({}),R=Object(p.a)(T,2),F=R[0],U=R[1],_=Object(s.useCallback)((function(){var e={shopTitle:!0,filterFields:!0,page:1};return e}),[]);Object(s.useEffect)((function(){j.current=1;var e=Me.a.parse(o);console.log(e),C(e.sort||I.SORT_OPTIONS.none.param),e=Object(S.a)(Object(S.a)({},e),_());var t=Object.entries(e).map((function(e){var t=Object(p.a)(e,2),c=t[0],a=t[1];return"".concat(c,"=").concat(a)})).join("&");return r(Ie(t)),function(){r(Fe())}}),[r,_,o]),Object(s.useEffect)((function(){var e=Object.entries(O).map((function(e){return e[1]?"".concat(e[0],"=").concat(e[1]):null})).filter((function(e){return null!==e})).join("&"),t="/shop?".concat(e);!e||1===Object.values(O).length&&(O.categoryIds||O.brandIds)||i.push(t)}),[i,O]),Object(s.useEffect)((function(){for(var e={},t=0,c=Object.entries(F);t<c.length;t++){var a=Object(p.a)(c[t],2),n=a[0],r=a[1];e[n]=r||null}h((function(t){return Object(S.a)(Object(S.a)({},t),e)}))}),[F]);return Object(u.jsxs)("main",{className:v?"modal-open":"",children:[v&&Object(u.jsx)(we,{options:t,closeModal:function(){return g(!1)},updateFilterOptions:U}),Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("h1",{className:"title",children:a})}),Object(u.jsxs)("div",{className:"filter-sort-section",children:[Object(u.jsx)("div",{className:"sort",children:Object(u.jsx)("select",{name:"sort",value:k,onChange:function(e){C(e.target.value);var t=e.target.value;t===I.SORT_OPTIONS.asc.param||t===I.SORT_OPTIONS.desc.param?h((function(e){return Object(S.a)(Object(S.a)({},e),{},{sort:t})})):h((function(e){return Object(S.a)(Object(S.a)({},e),{},{sort:"none"})}))},children:Object.keys(I.SORT_OPTIONS).map((function(e){return Object(u.jsx)("option",{value:I.SORT_OPTIONS[e].param,children:I.SORT_OPTIONS[e].text},"sort-option-".concat(e))}))})}),Object(u.jsx)("button",{onClick:function(){g(!0)},className:"filter",children:"Filter"})]})]}),Object(u.jsx)("section",{className:"items",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("p",{className:"items-found",children:!c&&0===e.length&&"0 items found"}),Object(u.jsx)("div",{className:"item-cards-container",children:c?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(De,{}),Object(u.jsx)(De,{}),Object(u.jsx)(De,{}),Object(u.jsx)(De,{}),Object(u.jsx)(De,{}),Object(u.jsx)(De,{}),Object(u.jsx)(De,{}),Object(u.jsx)(De,{})]}):e.map((function(e){return Object(u.jsx)(_e,{id:e._id,color:e.color,imgUrl:e.imgUrl,price:e.price,title:e.brandName+" "+e.title},e._id+Object(L.a)())}))}),Object(u.jsx)("div",{className:"load-more-btn",children:n?e.length>0&&Object(u.jsxs)("p",{children:[e.length," items above"]}):Object(u.jsx)(E,{loading:c,onClick:function(){j.current=j.current+1;var e=Me.a.parse(o);e=Object(S.a)(Object(S.a)(Object(S.a)({},e),_()),{},{page:j.current});var t=Object.entries(e).map((function(e){var t=Object(p.a)(e,2),c=t[0],a=t[1];return"".concat(c,"=").concat(a)})).join("&");r(Re(t))},text:"LOAD MORE",size:"l"})})]})})]})},Ye=function(){return Object(u.jsx)(j.a,{children:Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(y,{}),Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{exact:!0,path:"/",component:Oe}),Object(u.jsx)(d.a,{exact:!0,path:"/cart",children:Object(u.jsx)(V,{})}),Object(u.jsx)(d.a,{exact:!0,path:"/checkout",children:Object(u.jsx)(ne,{})}),Object(u.jsx)(d.a,{path:"/item/:id",children:Object(u.jsx)(Te,{})}),Object(u.jsx)(d.a,{path:"/shop",children:Object(u.jsx)(Pe,{})})]}),Object(u.jsx)(b,{})]})})},Be=Object(R.a)({reducer:{cart:B,brands:ue,categories:me,shopItems:Ue,selectedItem:Se,checkout:ae}});c(208);o.a.render(Object(u.jsx)(l.a,{store:Be,children:Object(u.jsx)(Ye,{})}),document.getElementById("root"))},26:function(e,t,c){"use strict";c.r(t),c.d(t,"request",(function(){return o}));var a=c(7),n=c(71),r=c.n(n),s={baseURL:a.BASE_URL,headers:{"Content-Type":"application/json"}},i=r.a.create(s),o={get:function(e){return i.get(e)},post:function(e,t){return i.post(e,t)}}},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},7:function(e,t,c){"use strict";c.r(t),c.d(t,"DELIEVERY_PRICE",(function(){return a})),c.d(t,"SORT_OPTIONS",(function(){return n})),c.d(t,"BASE_URL",(function(){return r})),c.d(t,"REDUX_STATUS",(function(){return s}));var a=9.99,n={none:{param:"none",text:"sort"},asc:{param:"price",text:"price asc"},desc:{param:"-price",text:"price desc"}},r="https://step-project-ecomm-back-end.herokuapp.com/api/v1",s={IDLE:"idle",SUCCESS:"success",LOADING:"loading",ERROR:"error"}},81:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){}},[[209,1,2]]]);
//# sourceMappingURL=main.d85022e2.chunk.js.map