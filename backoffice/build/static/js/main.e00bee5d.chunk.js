(this.webpackJsonpbackoffice=this.webpackJsonpbackoffice||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t),n.d(t,"request",(function(){return s}));var a=n(233),c=n.n(a),r={baseURL:n(12).BASE_URL,headers:{"Content-Type":"application/json"}},i=c.a.create(r);i.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer "+t),e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)}));var s={get:function(e){return i.get(e)},post:function(e,t){return i.post(e,t)},delete:function(e){return i.delete(e)},put:function(e,t){return i.put(e,t)},patch:function(e,t){return i.patch(e,t)}}},12:function(e,t,n){"use strict";n.r(t),n.d(t,"STATE_STATUSES",(function(){return a})),n.d(t,"BASE_URL",(function(){return c})),n.d(t,"DATE_TIME_FORMAT",(function(){return r})),n.d(t,"DEFAULT_DATE",(function(){return i}));var a={IDLE:"idle",SUCCESS:"success",LOADING:"loading",ERROR:"error"},c="https://step-project-ecomm-back-end.herokuapp.com/api/v1",r="DD/MM/YYYY HH:mm",i="2021-11-21T00:00:00.480Z"},429:function(e,t,n){},435:function(e,t,n){},437:function(e,t,n){"use strict";n.r(t);var a,c,r,i,s,o=n(0),l=n.n(o),d=n(41),u=n.n(d),b=n(38),j=n(23),A=n(242),f=n(443),g=n(444),O=n(241),m=n(74),E=n(448),S=n(449),p=n(24),h=n(25),x=n.n(h),T=n(40),Q=n(31),v=n(12),I=n(113),C=function(e){var t=e.username,n=e.password;return I.request.post("".concat(v.BASE_URL,"/auth/login"),{username:t,password:n})},y=Object(Q.b)("auth/authAction",function(){var e=Object(T.a)(x.a.mark((function e(t,n){var a,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,C(t);case 4:return c=e.sent,localStorage.setItem("token",c.data.token),e.abrupt("return",c.data);case 9:if(e.prev=9,e.t0=e.catch(1),(r=e.t0).response){e.next=14;break}throw e.t0;case 14:return e.abrupt("return",a(r.response.data.title));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),B=n(5),U=function(){var e=Object(j.g)(),t=Object(p.b)(),n=Object(p.c)((function(e){return e.auth.token})),a=Object(p.c)((function(e){return e.auth.status}));Object(o.useEffect)((function(){n&&e("/")})),Object(o.useEffect)((function(){a===v.STATE_STATUSES.ERROR&&A.b.error("login or password incorrect")}));return Object(B.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(B.jsx)(f.a,{title:"Login",bordered:!0,style:{width:500},children:Object(B.jsxs)(g.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){t(y(e))},children:[Object(B.jsx)(g.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(B.jsx)(O.a,{prefix:Object(B.jsx)(E.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(B.jsx)(g.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(B.jsx)(O.a,{prefix:Object(B.jsx)(S.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(B.jsx)(g.a.Item,{children:Object(B.jsx)(m.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:a===v.STATE_STATUSES.LOADING,children:"Log in"})})]})})})},N=n(39),L=n(438),k=n(107),R=n(447),w=n(450),J=n(451),D=n(452),K=n(453),F=n(236),z=n.n(F),Y=n(15),_=Object(Q.c)({name:"auth",initialState:{token:localStorage.getItem("token")||null,authError:""},reducers:{logout:function(e){e.token=null,localStorage.removeItem("token"),localStorage.removeItem("username")}},extraReducers:(a={},Object(Y.a)(a,y.pending,(function(e,t){e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(a,y.fulfilled,(function(e,t){e.status=v.STATE_STATUSES.SUCCESS,e.token=t.payload.token,e.authError=""})),Object(Y.a)(a,y.rejected,(function(e,t){e.status=v.STATE_STATUSES.ERROR,e.authError=t.payload})),a)}),M=_.actions,P=_.reducer,H=n(235),G=L.a.Header,q=L.a.Content,Z=L.a.Footer,X=L.a.Sider,W=k.a.SubMenu,V=function(e){var t=e.children,n=Object(o.useState)(!1),a=Object(N.a)(n,2),c=a[0],r=a[1],i=Object(o.useState)(),s=Object(N.a)(i,2),l=s[0],d=s[1],u=Object(p.b)(),A=Object(p.c)((function(e){return e.auth.token}));Object(j.g)();Object(o.useEffect)((function(){!function(){if(A){var e=Object(H.a)(A);e.username?(localStorage.setItem("username",e.username),d(e.username)):u(M.logout())}else u(M.logout())}()}),[u,A]);return Object(B.jsxs)(L.a,{style:{minHeight:"100vh"},children:[Object(B.jsxs)(X,{collapsible:!0,collapsed:c,onCollapse:r,children:[Object(B.jsx)("div",{style:{padding:"1rem",color:"#fff",fontWeight:700,textAlign:"center",fontSize:c?".85rem":"1.5rem",transition:"font-size .25s ease"},className:"logo",children:Object(B.jsx)(b.b,{style:{color:"inherit"},to:"/",children:"VD Clothes"})}),Object(B.jsxs)(k.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(B.jsxs)(W,{icon:Object(B.jsx)(w.a,{}),title:"Items",children:[Object(B.jsx)(k.a.Item,{children:Object(B.jsx)(b.b,{to:"/items",children:"All items"})},"sub1.1"),Object(B.jsx)(k.a.Item,{children:Object(B.jsx)(b.b,{to:"/items/add",children:"Add item"})},"sub1.2")]},"sub1"),Object(B.jsxs)(W,{icon:Object(B.jsx)(J.a,{}),title:"Brands",children:[Object(B.jsx)(k.a.Item,{children:Object(B.jsx)(b.b,{to:"/brands",children:"All brands"})},"sub2.1"),Object(B.jsx)(k.a.Item,{children:Object(B.jsx)(b.b,{to:"/brands/add",children:"Add brand"})},"sub2.2")]},"sub2"),Object(B.jsxs)(W,{icon:Object(B.jsx)(D.a,{}),title:"Categories",children:[Object(B.jsx)(k.a.Item,{children:Object(B.jsx)(b.b,{to:"/categories",children:"All categories"})},"sub3.1"),Object(B.jsx)(k.a.Item,{children:Object(B.jsx)(b.b,{to:"/categories/add",children:"Add category"})},"sub3.2")]},"sub3"),Object(B.jsx)(k.a.Item,{icon:Object(B.jsx)(K.a,{}),children:Object(B.jsx)(b.b,{to:"/orders",children:"Orders"})},"sub4")]})]}),Object(B.jsxs)(L.a,{className:"site-layout",children:[Object(B.jsx)(G,{className:"site-layout-background",style:{padding:"0 1rem",display:"flex",justifyContent:"flex-end"},children:Object(B.jsxs)(R.b,{direction:"horizontal",children:[Object(B.jsx)(z.a,{style:{color:"#fff"},children:l}),Object(B.jsx)(m.a,{onClick:function(){u(M.logout())},style:{color:"#fff"},type:"text",children:"logout"})]})}),Object(B.jsx)(q,{style:{margin:"0 16px"},children:t}),Object(B.jsx)(Z,{style:{textAlign:"center"},children:"\xa92021 Created by Victor Dulap"})]})]})},$=function(e){var t=e.children;return Object(p.c)((function(e){return e.auth.token}))?Object(B.jsx)(V,{children:t}):Object(B.jsx)(j.a,{to:"/login"})},ee=n(445),te=(n(429),n(59)),ne=n(440),ae=n(12).BASE_URL,ce=n(113).request,re=function(){return ce.get("".concat(ae,"/items?all=true"))},ie=function(e){return ce.get("".concat(ae,"/items/").concat(e))},se=function(e){return ce.post("".concat(ae,"/items"),e)},oe=function(e){return ce.delete("".concat(ae,"/items/").concat(e))},le=function(e,t){return ce.put("".concat(ae,"/items/").concat(e),t)},de=Object(Q.b)("get/items",Object(T.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),ue=Object(Q.b)("get/itemById",function(){var e=Object(T.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),be=Object(Q.b)("post/item",function(){var e=Object(T.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),je=Object(Q.b)("put/item",function(){var e=Object(T.a)(x.a.mark((function e(t){var n,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.newItem,e.next=3,le(n,a);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ae=Object(Q.b)("delete/item",function(){var e=Object(T.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fe=n(124),ge=n(237),Oe=n.n(ge),me=n(52),Ee=n.n(me),Se=function(){var e=Object(p.c)((function(e){return e.items})),t=e.value,n=e.isLoading,a=Object(p.b)();Object(o.useEffect)((function(){a(de())}),[a]);var c,r=Object(o.useState)(""),i=Object(N.a)(r,2),s=i[0],l=i[1],d=Object(o.useState)(""),u=Object(N.a)(d,2),j=u[0],A=u[1],f=Object(o.useRef)(""),g=function(e,t,n){t(),l(e[0]),A(n)},E=function(e){e(),l("")},S=[{title:"Id",dataIndex:"_id",key:"_id",render:function(e){return Object(B.jsx)(b.b,{to:"/items/".concat(e),children:e})},width:"15%"},Object(te.a)({title:"Name",dataIndex:"title",key:"title"},(c="title",{filterDropdown:function(e){var t=e.setSelectedKeys,n=e.selectedKeys,a=e.confirm,r=e.clearFilters;return Object(B.jsxs)("div",{style:{padding:8},children:[Object(B.jsx)(O.a,{ref:f,placeholder:"Search ".concat(c),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return g(n,a,c)},style:{marginBottom:8,display:"block"}}),Object(B.jsxs)(R.b,{children:[Object(B.jsx)(m.a,{type:"primary",onClick:function(){return g(n,a,c)},icon:Object(B.jsx)(fe.a,{}),size:"small",style:{width:90},children:"Search"}),Object(B.jsx)(m.a,{onClick:function(){return E(r)},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return Object(B.jsx)(fe.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,t){return t[c]?t[c].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return f.current.select()}),100)},render:function(e){return j===c?Object(B.jsx)(Oe.a,{highlightStyle:{backgroundColor:"#C0E1E8",padding:0},searchWords:[s],autoEscape:!0,textToHighlight:e?e.toString():""}):e}})),{title:"Brand",dataIndex:"brandId",key:"brandId",render:function(e,t){return Object(B.jsx)(b.b,{to:"/brands/".concat(e),children:t.brand.name})},filters:t?t.map((function(e){return e.brand})).filter((function(e,t,n){return n.findIndex((function(t){return t._id===e._id}))===t})).map((function(e){return{text:e.name,value:e.name}})):[],onFilter:function(e,t){return 0===t.brand.name.indexOf(e)}},{title:"Category",dataIndex:"categoryIds",key:"categoryIds",render:function(e,t){return Object(B.jsx)(b.b,{to:"/categories/".concat(e[0]),children:t.category.name})},filters:t?t.map((function(e){return e.category})).filter((function(e,t,n){return n.findIndex((function(t){return t._id===e._id}))===t})).map((function(e){return{text:e.name,value:e.name}})):[],onFilter:function(e,t){return 0===t.category.name.indexOf(e)}},{title:"Created at",dataIndex:"createdAt",key:"createdAt",render:function(e){return Object(B.jsx)("span",{children:e?Ee()(e).format(v.DATE_TIME_FORMAT):Ee()(v.DEFAULT_DATE).format(v.DATE_TIME_FORMAT)})},sorter:function(e,t){return Ee()(e.createdAt||v.DEFAULT_DATE)-Ee()(t.createdAt||v.DEFAULT_DATE)},defaultSortOrder:"descend"},{title:"Price",dataIndex:"price",key:"price",render:function(e){return Object(B.jsxs)("span",{children:[e," $"]})},sorter:function(e,t){return e.price-t.price}},{title:"Available",dataIndex:"available",key:"available",render:function(e){return Object(B.jsx)("span",{children:e?"Yes":"No"})},filters:[{text:"Yes",value:!0},{text:"No",value:!1}],onFilter:function(e,t){return t.available===e}}];return Object(B.jsxs)("div",{children:[Object(B.jsx)(ee.a.Title,{className:"mt-1",level:1,children:"Items"})," ",Object(B.jsx)(ne.a,{columns:S,loading:n,dataSource:t})]})},pe=n(137),he=n(125),xe=n(126),Te=n(76),Qe=n(442),ve=n(439),Ie=(n(435),function(e){var t=e.children,n=e.fullHeight,a=e.center;return Object(B.jsx)("section",{className:"form-wrap ".concat(a?"form-wrap-center":""," ").concat(n?"form-wrap-full-height":""),children:t})}),Ce=n(239),ye=function(){return Object(B.jsx)(Ie,{fullHeight:!0,center:!0,children:Object(B.jsx)(Ce.a,{})})},Be=pe.a.Option,Ue=function(e){var t=e.sizesState,n=e.disabled,a=e.onChange,c=Object(o.useState)(t||[]),r=Object(N.a)(c,2),i=r[0],s=r[1];return Object(o.useEffect)((function(){t&&t.length&&s(t)}),[t]),Object(B.jsx)(pe.a,{value:Array.isArray(t)?t:[],mode:"tags",style:{width:"100%"},placeholder:"Select sizes or enter new ones (ex: 41 eu, 42 eu, s, m)",disabled:n,onChange:a,children:i.map((function(e){return Object(B.jsx)(Be,{value:e,children:e},"item-size-".concat(e))}))})},Ne=n(454),Le=n(244),ke=n(455),Re=n(12).BASE_URL,we=n(113).request,Je=function(){return we.get("".concat(Re,"/brands"))},De=function(e){return we.get("".concat(Re,"/brands/").concat(e))},Ke=function(e){return we.post("".concat(Re,"/brands"),e)},Fe=function(e){return we.delete("".concat(Re,"/brands/").concat(e))},ze=function(e,t){return we.put("".concat(Re,"/brands/").concat(e),t)},Ye=Object(Q.b)("get/allBrands",Object(T.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),_e=Object(Q.b)("get/brandById",function(){var e=Object(T.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Me=Object(Q.b)("post/brand",function(){var e=Object(T.a)(x.a.mark((function e(t){var n,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.imgUrl,e.next=3,Ke({name:n,imgUrl:a});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Pe=Object(Q.b)("delete/brand",function(){var e=Object(T.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),He=Object(Q.b)("put/brand",function(){var e=Object(T.a)(x.a.mark((function e(t){var n,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.editedModel,e.next=3,ze(n,a);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ge=n(12).BASE_URL,qe=n(113).request,Ze=function(){return qe.get("".concat(Ge,"/categories"))},Xe=function(e){return qe.get("".concat(Ge,"/categories/").concat(e))},We=function(e){return qe.post("".concat(Ge,"/categories"),e)},Ve=function(e){return qe.delete("".concat(Ge,"/categories/").concat(e))},$e=function(e,t){return qe.put("".concat(Ge,"/categories/").concat(e),t)},et=Object(Q.b)("get/allCategories",Object(T.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),tt=Object(Q.b)("get/categoryById",function(){var e=Object(T.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),nt=Object(Q.b)("post/category",function(){var e=Object(T.a)(x.a.mark((function e(t){var n,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.imgUrl,e.next=3,We({name:n,imgUrl:a});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),at=Object(Q.b)("delete/category",function(){var e=Object(T.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ct=Object(Q.b)("put/category",function(){var e=Object(T.a)(x.a.mark((function e(t){var n,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.editedModel,e.next=3,$e(n,a);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),rt={value:[],item:{},status:v.STATE_STATUSES.IDLE},it=Object(Q.c)({name:"Items",initialState:rt,reducers:{resetState:function(e,t){e.value=[],e.item={}},resetStatus:function(e){e.status=v.STATE_STATUSES.IDLE}},extraReducers:(c={},Object(Y.a)(c,de.pending,(function(e,t){e.isLoading=!0})),Object(Y.a)(c,de.fulfilled,(function(e,t){e.value=t.payload.items,e.isLoading=!1})),Object(Y.a)(c,de.rejected,(function(e,t){e.value=[],e.isLoading=!1})),Object(Y.a)(c,ue.pending,(function(e,t){e.isLoading=!0})),Object(Y.a)(c,ue.fulfilled,(function(e,t){e.item=t.payload.item,e.isLoading=!1})),Object(Y.a)(c,ue.rejected,(function(e,t){e.item=[],e.isLoading=!1})),Object(Y.a)(c,be.pending,(function(e,t){e.isLoading=!0,e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(c,be.fulfilled,(function(e,t){e.status=v.STATE_STATUSES.SUCCESS,e.isLoading=!1})),Object(Y.a)(c,be.rejected,(function(e,t){e.status=v.STATE_STATUSES.ERROR,e.isLoading=!1})),Object(Y.a)(c,je.pending,(function(e,t){e.isLoading=!0,e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(c,je.fulfilled,(function(e,t){e.status=v.STATE_STATUSES.SUCCESS,e.isLoading=!1})),Object(Y.a)(c,je.rejected,(function(e,t){e.status=v.STATE_STATUSES.ERROR,e.isLoading=!1})),Object(Y.a)(c,Ae.pending,(function(e,t){e.isLoading=!0,e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(c,Ae.fulfilled,(function(e,t){e.status=v.STATE_STATUSES.SUCCESS,e.isLoading=!1})),Object(Y.a)(c,Ae.rejected,(function(e,t){e.status=v.STATE_STATUSES.ERROR,e.isLoading=!1})),c)}),st=it.actions,ot=(st.resetState,st.resetStatus),lt=it.reducer,dt=function(){var e=Object(p.c)((function(e){return e.categories})),t=e.isLoading,n=e.value,a=Object(p.c)((function(e){return e.brands})),c=a.isLoading,r=a.value,i=Object(p.c)((function(e){return e.items})),s=i.item,l=i.isLoading,d=i.status,u=Object(p.b)(),b=Object(j.g)(),f=Object(j.h)().id,E=Object(o.useState)(!1),S=Object(N.a)(E,2),h=S[0],x=S[1],T=Object(o.useState)({title:"",brandId:"",categoryIds:[""],color:"",price:0,sizes:[""],description:"",available:!1,imgUrl:""}),Q=Object(N.a)(T,2),I=Q[0],C=Q[1];Object(o.useEffect)((function(){u(ue(f))}),[u,f]),Object(o.useEffect)((function(){u(Ye()),u(et())}),[u]);var y=Object(o.useCallback)((function(){if(s){var e=s.title,t=s.brandId,n=s.categoryIds,a=s.color,c=s.price,r=s.sizes,i=s.description,o=s.available,l=s.imgUrl;C({title:e,brandId:t,categoryIds:n,color:a,price:c,sizes:r,description:i,available:o,imgUrl:l})}}),[s]);Object(o.useEffect)((function(){y()}),[y]);var U=function(e,t){C((function(n){return Object(te.a)(Object(te.a)({},n),{},Object(Y.a)({},e,t))}))};Object(o.useEffect)((function(){d===v.STATE_STATUSES.SUCCESS?(A.b.success("item ".concat(h?"edited":"deleted","!")),b("/items"),u(ot())):d===v.STATE_STATUSES.ERROR&&(A.b.error("error occured ".concat(h?"editing":"deleting"," item!")),u(ot()))}),[u,h,b,d]);var L=s&&s.brand?[{label:"Id",component:Object(B.jsx)(O.a,{value:s._id,disabled:!0})},{label:"Name",component:Object(B.jsx)(O.a,{value:I.title,onChange:function(e){return U("title",e.target.value)},disabled:!h})},{label:"Brand",component:Object(B.jsx)(pe.a,{disabled:!h,value:I.brandId,onChange:function(e){return U("brandId",e)},showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:r.map((function(e){return Object(B.jsx)(pe.a.Option,{value:e._id,children:e.name},"item-brand-".concat(e._id))}))})},{label:"Category",component:Object(B.jsx)(pe.a,{showSearch:!0,value:I.categoryIds,onChange:function(e){return U("categoryIds",e)},disabled:!h,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:n.map((function(e){return Object(B.jsx)(pe.a.Option,{value:e._id,children:e.name},"item-category-".concat(e._id))}))})},{label:"Color",component:Object(B.jsx)(O.a,{value:I.color,onChange:function(e){return U("color",e.target.value)},disabled:!h})},{label:"Price",component:Object(B.jsx)(O.a,{value:I.price,onChange:function(e){return U("price",e.target.value)},disabled:!h})},{label:"Description",component:Object(B.jsx)(O.a.TextArea,{value:I.description,onChange:function(e){return U("description",e.target.value)},disabled:!h})},{label:"Available",component:Object(B.jsx)(he.a,{checked:I.available,onChange:function(e){return U("available",e.target.checked)},disabled:!h})},{label:"Image URL",component:Object(B.jsx)(O.a,{value:I.imgUrl,onChange:function(e){return U("imgUrl",e.target.value)},disabled:!h})},{label:"Sizes",component:Object(B.jsx)(Ue,{onChange:function(e){return U("sizes",e)},sizesState:I.sizes,disabled:!h})}]:[];if(l||c||t)return Object(B.jsx)(ye,{});if(!s)return Object(B.jsx)(ee.a.Title,{className:"mt-1",level:1,children:"Item not found"});return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ee.a.Title,{className:"mt-1",level:1,children:"Item"}),Object(B.jsxs)(Ie,{children:[Object(B.jsxs)(xe.a,{gutter:16,children:[Object(B.jsx)(Te.a,{span:12,children:Object(B.jsx)(g.a,{name:"basic",labelCol:{span:4},initialValues:{remember:!0},autoComplete:"off",children:L.map((function(e){return Object(B.jsx)(g.a.Item,{label:e.label,children:e.component},"item-".concat(e.label))}))})}),Object(B.jsx)(Te.a,{span:12,children:Object(B.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(B.jsx)(Qe.a,{src:s.imgUrl||"error",fallback:"data:image/png;base64,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"})})})]}),Object(B.jsx)(ve.a,{}),Object(B.jsx)("div",{className:"flex-between",children:h?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(m.a,{onClick:function(){x(!1),y()},icon:Object(B.jsx)(Ne.a,{}),type:"primary",loading:l,children:"Cancel editing"}),Object(B.jsx)(m.a,{onClick:function(){return console.log(I),void u(je({id:f,newItem:I}))},icon:Object(B.jsx)(Le.a,{}),loading:l,children:"Confirm edit"})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(m.a,{onClick:function(){return x(!0)},icon:Object(B.jsx)(Le.a,{}),type:"primary",loading:l,children:"Edit item"}),Object(B.jsx)(m.a,{onClick:function(){u(Ae(f))},danger:!0,icon:Object(B.jsx)(ke.a,{}),loading:l,children:"Delete item"})]})})]})]})},ut=[{title:"Id",dataIndex:"_id",key:"_id",render:function(e){return Object(B.jsx)(b.b,{to:"/brands/".concat(e),children:e})},width:"30%"},{title:"Name",dataIndex:"name",key:"name"}],bt=function(){var e=Object(p.c)((function(e){return e.brands})),t=e.value,n=e.isLoading,a=Object(p.b)();return Object(o.useEffect)((function(){a(Ye())}),[a]),Object(B.jsxs)("div",{children:[Object(B.jsx)(ee.a.Title,{className:"mt-1",level:1,children:"Brands"}),Object(B.jsx)(ne.a,{columns:ut,loading:n,dataSource:t})]})},jt=[{title:"Id",dataIndex:"_id",key:"_id",render:function(e){return Object(B.jsx)(b.b,{to:"/categories/".concat(e),children:e})},width:"30%"},{title:"Name",dataIndex:"name",key:"name"}],At=function(){var e=Object(p.c)((function(e){return e.categories})),t=e.value,n=e.isLoading,a=Object(p.b)();return Object(o.useEffect)((function(){a(et())}),[a]),Object(B.jsxs)("div",{children:[Object(B.jsx)(ee.a.Title,{className:"mt-1",level:1,children:"Categories"}),Object(B.jsx)(ne.a,{columns:jt,loading:n,dataSource:t})]})},ft=n(12).BASE_URL,gt=n(113).request,Ot=function(){return gt.get("".concat(ft,"/orders"))},mt=function(e){return gt.get("".concat(ft,"/orders/").concat(e))},Et=function(e){return gt.delete("".concat(ft,"/orders/").concat(e))},St=function(e,t){return gt.patch("".concat(ft,"/orders/").concat(e),t)},pt=Object(Q.b)("get/allOrders",Object(T.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),ht=Object(Q.b)("get/orderById",function(){var e=Object(T.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),xt=Object(Q.b)("delete/order",function(){var e=Object(T.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Et(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Tt=Object(Q.b)("patch/order",function(){var e=Object(T.a)(x.a.mark((function e(t){var n,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.order,e.next=3,St(n,a);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Qt=function(e){return("0"+e).slice(-2)},vt=[{title:"Id",dataIndex:"_id",key:"_id",render:function(e){return Object(B.jsx)(b.b,{to:"/orders/".concat(e),children:e})},width:"20%"},{title:"Total",dataIndex:"total",key:"total",width:"10%",render:function(e){return Object(B.jsxs)(B.Fragment,{children:[e," $"]})},sorter:function(e,t){return e.total-t.total}},{title:"Total items",dataIndex:"cart",key:"total_items",render:function(e){return e.length},width:"10%",sorter:function(e,t){return e.cart.length-t.cart.length}},{title:"Shipping country",dataIndex:"shippingDetails",key:"total_items",render:function(e){return"".concat(e.country,", ").concat(e.city)}},{title:"Order date",dataIndex:"createdAt",key:"order_date",render:function(e){return function(e){"string"===typeof e&&(e=new Date(e));var t=[Qt(e.getMonth()+1),Qt(e.getDate()),Qt(e.getFullYear())],n=t[0],a=t[1],c=t[2],r=[Qt(e.getHours()),Qt(e.getMinutes())],i=r[0],s=r[1];return"".concat(a,"/").concat(n,"/").concat(c," ").concat(i,":").concat(s)}(e)},sorter:function(e,t){return Ee()(e.createdAt)-Ee()(t.createdAt)},defaultSortOrder:"descend"},{title:"Shipped",dataIndex:"isShipped",key:"isShipped",render:function(e){return Object(B.jsx)("span",{children:e?"Yes":"No"})},filters:[{text:"Yes",value:!0},{text:"No",value:!1}],onFilter:function(e,t){return t.isShipped===e}}],It=function(){var e=Object(p.c)((function(e){return e.orders})),t=e.value,n=e.isLoading,a=Object(p.b)();return Object(o.useEffect)((function(){a(pt())}),[a]),Object(B.jsxs)("div",{children:[Object(B.jsx)(ee.a.Title,{className:"mt-1",level:1,children:"Orders"}),Object(B.jsx)(ne.a,{rowKey:"_id",columns:vt,loading:n,dataSource:t})]})},Ct=Object(Q.c)({name:"Brands",initialState:{value:[],category:{}},reducers:{resetStatus:function(e){e.status=v.STATE_STATUSES.IDLE}},extraReducers:(r={},Object(Y.a)(r,et.pending,(function(e,t){e.isLoading=!0})),Object(Y.a)(r,et.fulfilled,(function(e,t){e.value=t.payload.categories,e.isLoading=!1})),Object(Y.a)(r,et.rejected,(function(e,t){e.value=[],e.isLoading=!1})),Object(Y.a)(r,tt.pending,(function(e,t){e.isLoading=!0})),Object(Y.a)(r,tt.fulfilled,(function(e,t){e.category=t.payload.category,e.isLoading=!1})),Object(Y.a)(r,tt.rejected,(function(e,t){e.category={},e.isLoading=!1})),Object(Y.a)(r,nt.pending,(function(e,t){e.isLoading=!0,e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(r,nt.fulfilled,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.SUCCESS})),Object(Y.a)(r,nt.rejected,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.ERROR})),Object(Y.a)(r,at.pending,(function(e,t){e.isLoading=!0,e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(r,at.fulfilled,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.SUCCESS})),Object(Y.a)(r,at.rejected,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.ERROR})),Object(Y.a)(r,ct.pending,(function(e,t){e.isLoading=!0,e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(r,ct.fulfilled,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.SUCCESS})),Object(Y.a)(r,ct.rejected,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.ERROR})),r)}),yt=Ct.actions,Bt=Ct.reducer,Ut=function(e){var t=e.model,n=e.isLoading,a=e.status,c=e.modelObject,r=e.title,i=e.resetStatus,s=e.deleteAction,l=e.editAction,d=e.navUrl,u=e.formFieldsArr,b=Object(p.b)(),f=Object(j.g)(),E=Object(o.useState)(!1),S=Object(N.a)(E,2),h=S[0],x=S[1],T=Object(o.useState)(c),Q=Object(N.a)(T,2),I=Q[0],C=Q[1],y=Object(o.useCallback)((function(){t&&C(t)}),[t]);Object(o.useEffect)((function(){y()}),[y]),Object(o.useEffect)((function(){a===v.STATE_STATUSES.SUCCESS?(A.b.success("".concat(r," ").concat(h?"edited":"deleted","!")),f(d),b(i())):a===v.STATE_STATUSES.ERROR&&(A.b.error("error occured ".concat(h?"editing":"deleting"," ").concat(r,"!")),b(i()))}),[b,h,d,f,i,a,r]);var U=t?u.map((function(e){var n=e.component;return{label:e.label,component:e.isId?Object(B.jsx)(O.a,{defaultValue:t._id,disabled:!0}):Object(B.jsx)(n,{value:I[e.name],onChange:function(t){return n=e.name,a=t.target.value,void C((function(e){return Object(te.a)(Object(te.a)({},e),{},Object(Y.a)({},n,a))}));var n,a},disabled:!h})}})):[];return n?Object(B.jsx)(ye,{}):t?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ee.a.Title,{className:"mt-1",style:{textTransform:"capitalize"},level:1,children:r}),Object(B.jsxs)(Ie,{children:[Object(B.jsxs)(xe.a,{gutter:16,children:[Object(B.jsx)(Te.a,{span:12,children:Object(B.jsx)(g.a,{name:"basic",labelCol:{span:4},initialValues:{remember:!0},autoComplete:"off",children:U.map((function(e){return Object(B.jsx)(g.a.Item,{label:e.label,children:e.component},"".concat(r,"-").concat(e.label))}))})}),Object(B.jsx)(Te.a,{span:12,children:Object(B.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(B.jsx)(Qe.a,{src:I.imgUrl||"error",fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="})})})]}),Object(B.jsx)(ve.a,{}),Object(B.jsx)("div",{className:"flex-between",children:h?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(m.a,{onClick:function(){x(!1),y()},icon:Object(B.jsx)(Ne.a,{}),type:"primary",loading:n,children:"Cancel editing"}),Object(B.jsx)(m.a,{onClick:function(){t&&b(l({id:t._id,editedModel:I}))},icon:Object(B.jsx)(Le.a,{}),loading:n,children:"Confirm edit"})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(m.a,{onClick:function(){return x(!0)},icon:Object(B.jsx)(Le.a,{}),type:"primary",loading:n,children:["Edit ",r]}),Object(B.jsxs)(m.a,{onClick:function(){t&&b(s(t._id))},danger:!0,icon:Object(B.jsx)(ke.a,{}),loading:n,children:["Delete ",r]})]})})]})]}):Object(B.jsxs)(ee.a.Title,{className:"mt-1",level:1,children:[r," not found"]})},Nt=function(){var e=Object(p.c)((function(e){return e.categories})),t=e.category,n=e.isLoading,a=e.status,c=Object(p.b)(),r=Object(j.h)().categoryId;Object(o.useEffect)((function(){c(tt(r))}),[c,r]);var i=[{label:"Id",name:"id",component:O.a,isId:!0},{label:"Name",name:"name",component:O.a},{label:"Image URL",name:"imgUrl",component:O.a}];return Object(B.jsx)(Ut,{model:t,isLoading:n,status:a,deleteAction:at,navUrl:"/categories",resetStatus:yt.resetStatus,editAction:ct,title:"category",modelObject:{name:"",imgUrl:""},formFieldsArr:i})},Lt=Object(Q.c)({name:"Brands",initialState:{value:[],brand:{}},reducers:{resetStatus:function(e){e.status=v.STATE_STATUSES.IDLE}},extraReducers:(i={},Object(Y.a)(i,Ye.pending,(function(e,t){e.isLoading=!0})),Object(Y.a)(i,Ye.fulfilled,(function(e,t){e.value=t.payload.brands,e.isLoading=!1})),Object(Y.a)(i,Ye.rejected,(function(e,t){e.value=[],e.isLoading=!1})),Object(Y.a)(i,_e.pending,(function(e,t){e.isLoading=!0})),Object(Y.a)(i,_e.fulfilled,(function(e,t){e.brand=t.payload.brand,e.isLoading=!1})),Object(Y.a)(i,_e.rejected,(function(e,t){e.brand=[],e.isLoading=!1})),Object(Y.a)(i,Me.pending,(function(e,t){e.isLoading=!0,e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(i,Me.fulfilled,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.SUCCESS})),Object(Y.a)(i,Me.rejected,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.ERROR})),Object(Y.a)(i,Pe.pending,(function(e,t){e.isLoading=!0,e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(i,Pe.fulfilled,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.SUCCESS})),Object(Y.a)(i,Pe.rejected,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.ERROR})),Object(Y.a)(i,He.pending,(function(e,t){e.isLoading=!0,e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(i,He.fulfilled,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.SUCCESS})),Object(Y.a)(i,He.rejected,(function(e,t){e.isLoading=!1,e.status=v.STATE_STATUSES.ERROR})),i)}),kt=Lt.actions,Rt=Lt.reducer,wt=function(){var e=Object(p.c)((function(e){return e.brands})),t=e.brand,n=e.isLoading,a=e.status,c=Object(j.h)().brandId,r=Object(p.b)();Object(o.useEffect)((function(){r(_e(c))}),[c,r]);var i=[{label:"Id",name:"id",component:O.a,isId:!0},{label:"Name",name:"name",component:O.a},{label:"Image URL",name:"imgUrl",component:O.a}];return Object(B.jsx)(Ut,{model:t,isLoading:n,status:a,deleteAction:Pe,navUrl:"/brands",resetStatus:kt.resetStatus,editAction:He,title:"brand",modelObject:{name:"",imgUrl:""},formFieldsArr:i})},Jt=n(441),Dt={value:[],order:{},status:v.STATE_STATUSES.IDLE},Kt=Object(Q.c)({name:"Orders",initialState:Dt,reducers:{resetStatus:function(e){e.status=v.STATE_STATUSES.IDLE}},extraReducers:(s={},Object(Y.a)(s,pt.pending,(function(e,t){e.isLoading=!0})),Object(Y.a)(s,pt.fulfilled,(function(e,t){e.value=t.payload.orders,e.isLoading=!1})),Object(Y.a)(s,pt.rejected,(function(e,t){e.value=[],e.isLoading=!1})),Object(Y.a)(s,ht.pending,(function(e,t){e.isLoading=!0})),Object(Y.a)(s,ht.fulfilled,(function(e,t){e.order=t.payload.order,e.isLoading=!1})),Object(Y.a)(s,ht.rejected,(function(e,t){e.order=[],e.isLoading=!1})),Object(Y.a)(s,xt.pending,(function(e,t){e.isLoading=!0,e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(s,xt.fulfilled,(function(e,t){e.status=v.STATE_STATUSES.SUCCESS,e.isLoading=!1})),Object(Y.a)(s,xt.rejected,(function(e,t){e.status=v.STATE_STATUSES.ERROR,e.isLoading=!1})),Object(Y.a)(s,Tt.pending,(function(e,t){e.isLoading=!0,e.status=v.STATE_STATUSES.LOADING})),Object(Y.a)(s,Tt.fulfilled,(function(e,t){e.status=v.STATE_STATUSES.SUCCESS,e.isLoading=!1})),Object(Y.a)(s,Tt.rejected,(function(e,t){e.status=v.STATE_STATUSES.ERROR,e.isLoading=!1})),s)}),Ft=Kt.actions.resetStatus,zt=Kt.reducer,Yt=ee.a.Title,_t=function(){var e=Object(p.c)((function(e){return e.orders})),t=e.order,n=e.isLoading,a=e.status,c=Object(p.b)(),r=Object(j.h)().id,i=Object(o.useState)(!1),s=Object(N.a)(i,2),l=s[0],d=s[1],u=Object(o.useState)(),f=Object(N.a)(u,2),E=f[0],S=f[1],h=Object(j.g)();Object(o.useEffect)((function(){c(ht(r))}),[c,r]),Object(o.useEffect)((function(){t&&S(t.isShipped)}),[t]),Object(o.useEffect)((function(){a===v.STATE_STATUSES.SUCCESS?(A.b.success("order ".concat(l?"edited":"deleted","!")),h("/orders"),c(Ft())):a===v.STATE_STATUSES.ERROR&&(A.b.error("error occured ".concat(l?"editing":"deleting"," order!")),c(Ft()))}),[c,l,h,a]);var x=t?[{label:"Id",component:Object(B.jsx)(O.a,{value:t._id,disabled:!0})},{label:"Total",component:Object(B.jsx)(O.a,{value:t.total+"$",disabled:!0})},{label:"Order date",component:Object(B.jsx)(Jt.a,{value:Ee()(t.createdAt),showTime:!0,disabled:!0})},{label:"Payment success",component:Object(B.jsx)(he.a,{checked:t.paymentStatusSuccess,disabled:!0,children:"".concat(!!t.paymentStatusSuccess)})},{label:"Shipped",component:Object(B.jsx)(he.a,{checked:E,onChange:function(e){return S(e.target.checked)},disabled:!l,children:"".concat(!!E)})}]:[],T=t&&t.shippingDetails?[{label:"Client Name",component:Object(B.jsx)(O.a,{value:t.shippingDetails.firstName+" "+t.shippingDetails.lastName,disabled:!0})},{label:"Mobile nr",component:Object(B.jsx)(O.a,{value:t.shippingDetails.mobile,disabled:!0})},{label:"Email",component:Object(B.jsx)(O.a,{value:t.shippingDetails.email,disabled:!0})},{label:"Country",component:Object(B.jsx)(O.a,{value:t.shippingDetails.country,disabled:!0})},{label:"City",component:Object(B.jsx)(O.a,{value:t.shippingDetails.city,disabled:!0})},{label:"Postcode",component:Object(B.jsx)(O.a,{value:t.shippingDetails.postcode,disabled:!0})},{label:"Address",component:Object(B.jsx)(O.a,{value:t.shippingDetails.address,disabled:!0})}]:[],Q=t&&t.cart?[{title:"Item id",dataIndex:"itemId",key:"itemId",render:function(e){return Object(B.jsx)(b.b,{to:"/items/".concat(e),children:e})}},{title:"name",dataIndex:"itemName",key:"itemName",render:function(e){return Object(B.jsx)(B.Fragment,{children:e||"N/A"})}},{title:"count",dataIndex:"count",key:"count"},{title:"Selected size",dataIndex:"selectedSize",key:"selectedSize"}]:[];if(n)return Object(B.jsx)(ye,{});if(!t)return Object(B.jsx)(Yt,{className:"mt-1",level:1,children:"Order not found"});var I={labelCol:{span:5},wrapperCol:{span:15}};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Yt,{className:"mt-1",level:1,children:"Order"}),Object(B.jsxs)(Ie,{children:[Object(B.jsxs)(g.a,{name:"basic",initialValues:{remember:!0},autoComplete:"off",children:[Object(B.jsxs)(xe.a,{gutter:32,children:[Object(B.jsxs)(Te.a,{span:12,children:[Object(B.jsx)(Yt,{className:"mb-2",level:3,children:"Order details"}),x.map((function(e){return Object(o.createElement)(g.a.Item,Object(te.a)(Object(te.a)({},I),{},{key:"order-".concat(e.label),label:e.label}),e.component)}))]}),Object(B.jsxs)(Te.a,{span:12,children:[Object(B.jsx)(Yt,{className:"mb-2",level:3,children:"Shipping details"}),T.map((function(e){return Object(o.createElement)(g.a.Item,Object(te.a)(Object(te.a)({},I),{},{key:"order-shipping-".concat(e.label),label:e.label}),e.component)}))]})]}),Object(B.jsx)(ve.a,{}),Object(B.jsx)(Yt,{className:"mb-2",level:3,children:"Cart items"}),Object(B.jsx)(ne.a,{loading:n,dataSource:t.cart,columns:Q})]}),Object(B.jsx)(ve.a,{}),Object(B.jsx)("div",{className:"flex-between",children:l?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(m.a,{onClick:function(){d(!1),S(t.isShipped)},icon:Object(B.jsx)(Ne.a,{}),type:"primary",loading:n,children:"Cancel editing"}),Object(B.jsx)(m.a,{onClick:function(){return c(Tt({id:r,order:{isShipped:E}}))},icon:Object(B.jsx)(Le.a,{}),loading:n,children:"Confirm edit"})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(m.a,{onClick:function(){return d(!0)},icon:Object(B.jsx)(Le.a,{}),type:"primary",loading:n,children:"Edit order"}),Object(B.jsx)(m.a,{onClick:function(){c(xt(r))},danger:!0,icon:Object(B.jsx)(ke.a,{}),loading:n,children:"Delete order"})]})})]})]})},Mt=function(){var e=Object(p.c)((function(e){return e.brands})),t=e.isLoading,n=e.status,a=Object(p.b)(),c=Object(j.g)();Object(o.useEffect)((function(){n===v.STATE_STATUSES.SUCCESS?(A.b.success("brand added!"),a(kt.resetStatus()),c("/brands")):n===v.STATE_STATUSES.ERROR&&A.b.error("brand not added!")}),[a,c,n]);var r=[{label:"Name",name:"name",component:Object(B.jsx)(O.a,{placeholder:"Nike"})},{label:"Image URL",name:"imgUrl",component:Object(B.jsx)(O.a,{placeholder:"http://www.yoururltoimg.com/nike.png"})}];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ee.a.Title,{className:"mt-1",level:1,children:"Add Brand"}),Object(B.jsx)(Ie,{children:Object(B.jsxs)(g.a,{onFinish:function(e){a(Me(e))},name:"basic",labelCol:{span:2},wrapperCol:{span:10},autoComplete:"off",children:[r.map((function(e){return Object(B.jsx)(g.a.Item,{rules:[{required:!0,message:"Enter value!"}],name:e.name,label:e.label,children:e.component},"brand-add-".concat(e.label))})),Object(B.jsx)(g.a.Item,{children:Object(B.jsx)(m.a,{loading:t,type:"primary",htmlType:"submit",children:"Submit"})})]})})]})},Pt=function(){var e=Object(p.c)((function(e){return e.categories})),t=e.isLoading,n=e.status,a=Object(p.b)(),c=Object(j.g)();Object(o.useEffect)((function(){n===v.STATE_STATUSES.SUCCESS?(A.b.success("category added!"),a(yt.resetStatus()),c("/categories")):n===v.STATE_STATUSES.ERROR&&A.b.error("category not added!")}),[a,c,n]);var r=[{label:"Name",name:"name",component:Object(B.jsx)(O.a,{placeholder:"T-Shirts"})},{label:"Image URL",name:"imgUrl",component:Object(B.jsx)(O.a,{placeholder:"http://www.yoururltoimg.com/t-shirts.png"})}];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ee.a.Title,{className:"mt-1",level:1,children:"Add Category"}),Object(B.jsx)(Ie,{children:Object(B.jsxs)(g.a,{onFinish:function(e){a(nt(e))},name:"basic",labelCol:{span:2},wrapperCol:{span:10},autoComplete:"off",children:[r.map((function(e){return Object(B.jsx)(g.a.Item,{rules:[{required:!0,message:"Enter value!"}],name:e.name,label:e.label,children:e.component},"category-add-".concat(e.label))})),Object(B.jsx)(g.a.Item,{children:Object(B.jsx)(m.a,{loading:t,type:"primary",htmlType:"submit",children:"Submit"})})]})})]})},Ht=n(446),Gt=function(){var e=Object(p.c)((function(e){return e.categories})),t=e.isLoading,n=e.value,a=Object(p.c)((function(e){return e.brands})),c=a.isLoading,r=a.value,i=Object(p.c)((function(e){return e.items})),s=i.isLoading,l=i.status,d=Object(p.b)(),u=Object(j.g)(),b=Object(o.useState)([]),f=Object(N.a)(b,2),E=f[0],S=f[1],h=Object(o.useState)(!1),x=Object(N.a)(h,2),T=x[0];x[1];if(Object(o.useEffect)((function(){d(Ye()),d(et())}),[d]),Object(o.useEffect)((function(){l===v.STATE_STATUSES.SUCCESS?(A.b.success("item added!"),d(ot()),u("/items")):l===v.STATE_STATUSES.ERROR&&A.b.error("item not added!")}),[d,u,l]),c||t)return Object(B.jsx)(ye,{});var Q=[{label:"Name",name:"title",component:Object(B.jsx)(O.a,{placeholder:"Air force 1"})},{label:"Brand",name:"brandId",component:Object(B.jsx)(pe.a,{placeholder:"Nike",showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:r.map((function(e){return Object(B.jsx)(pe.a.Option,{value:e._id,children:e.name},"item-brand-".concat(e._id))}))})},{label:"Category",name:"categoryIds",component:Object(B.jsx)(pe.a,{placeholder:"Shoes",showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:n.map((function(e){return Object(B.jsx)(pe.a.Option,{value:e._id,children:e.name},"item-category-".concat(e._id))}))})},{label:"Color",name:"color",component:Object(B.jsx)(O.a,{placeholder:"white"})},{label:"Image URL",name:"imgUrl",component:Object(B.jsx)(O.a,{placeholder:"https://linktoimg.com/img-name.png"})},{label:"Description",name:"description",component:Object(B.jsx)(O.a.TextArea,{placeholder:"Matte leather upper"})},{label:"Sizes",name:"sizes",component:Object(B.jsx)(Ue,{sizesState:E,onChange:function(e){S(e)}})},{label:"Price",name:"price",component:Object(B.jsx)(Ht.a,{addonAfter:"$",min:1,placeholder:"100"})},{label:"Available",name:"available",valuePropName:"checked",component:Object(B.jsx)(he.a,{})}];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(ee.a.Title,{className:"mt-1",level:1,children:"Add Item"}),Object(B.jsx)(Ie,{children:Object(B.jsxs)(g.a,{onFinish:function(e){var t=Object(te.a)({},e);t.categoryIds=[t.categoryIds],t.available=!!t.available,console.log(t),d(be(t))},name:"basic",labelCol:{span:2},wrapperCol:{span:10},autoComplete:"off",children:[Q.map((function(e){return Object(B.jsx)(g.a.Item,{rules:"sizes"===e.name?[{required:!T,message:"Select sizes!"}]:"available"===e.name?[]:[{required:!0,message:"Enter value!"}],name:e.name,label:e.label,valuePropName:e.valuePropName,children:e.component},"category-add-".concat(e.label))})),Object(B.jsx)(g.a.Item,{children:Object(B.jsx)(m.a,{loading:s,type:"primary",htmlType:"submit",children:"Submit"})})]})})]})},qt=ee.a.Title;var Zt=function(){return Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(b.a,{children:Object(B.jsxs)(j.d,{children:[Object(B.jsx)(j.b,{path:"/login",element:Object(B.jsx)(U,{})}),Object(B.jsx)(j.b,{path:"/",element:Object(B.jsx)($,{children:Object(B.jsx)("div",{className:"welcome-container",children:Object(B.jsx)(qt,{className:"welcome-message",level:"1",children:"Welcome admin!"})})})}),Object(B.jsx)(j.b,{path:"/items",element:Object(B.jsx)($,{children:Object(B.jsx)(Se,{})})}),Object(B.jsx)(j.b,{path:"/items/add",element:Object(B.jsx)($,{children:Object(B.jsx)(Gt,{})})}),Object(B.jsx)(j.b,{path:"/items/:id",element:Object(B.jsx)($,{children:Object(B.jsx)(dt,{})})}),Object(B.jsx)(j.b,{path:"/brands",element:Object(B.jsx)($,{children:Object(B.jsx)(bt,{})})}),Object(B.jsx)(j.b,{path:"/brands/add",element:Object(B.jsx)($,{children:Object(B.jsx)(Mt,{})})}),Object(B.jsx)(j.b,{path:"/brands/:brandId",element:Object(B.jsx)($,{children:Object(B.jsx)(wt,{})})}),Object(B.jsx)(j.b,{path:"/categories",element:Object(B.jsx)($,{children:Object(B.jsx)(At,{})})}),Object(B.jsx)(j.b,{path:"/categories/add",element:Object(B.jsx)($,{children:Object(B.jsx)(Pt,{})})}),Object(B.jsx)(j.b,{path:"/categories/:categoryId",element:Object(B.jsx)($,{children:Object(B.jsx)(Nt,{})})}),Object(B.jsx)(j.b,{path:"/orders",element:Object(B.jsx)($,{children:Object(B.jsx)(It,{})})}),Object(B.jsx)(j.b,{path:"/orders/:id",element:Object(B.jsx)($,{children:Object(B.jsx)(_t,{})})}),Object(B.jsx)(j.b,{path:"*",element:Object(B.jsx)($,{children:Object(B.jsx)("p",{style:{textAlign:"center",padding:"5em 0",fontSize:"3rem"},children:"404 not found"})})})]})})})},Xt=Object(Q.a)({reducer:{auth:P,items:lt,brands:Rt,categories:Bt,orders:zt}});n(436);u.a.render(Object(B.jsx)(l.a.StrictMode,{children:Object(B.jsx)(p.a,{store:Xt,children:Object(B.jsx)(Zt,{})})}),document.getElementById("root"))}},[[437,1,2]]]);
//# sourceMappingURL=main.e00bee5d.chunk.js.map